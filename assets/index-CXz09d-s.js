var be=Object.defineProperty;var ge=(r,t,e)=>t in r?be(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var It=(r,t,e)=>ge(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=e(n);fetch(n.href,c)}})();function Z(){}function ke(r,t){for(const e in t)r[e]=t[e];return r}function se(r){return r()}function zt(){return Object.create(null)}function Ot(r){r.forEach(se)}function de(r){return typeof r=="function"}function dt(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let xt;function it(r,t){return r===t?!0:(xt||(xt=document.createElement("a")),xt.href=t,r===xt.href)}function me(r){return Object.keys(r).length===0}function he(r,...t){if(r==null){for(const i of t)i(void 0);return Z}const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function $e(r){let t;return he(r,e=>t=e)(),t}function we(r,t,e){r.$$.on_destroy.push(he(t,e))}function Te(r,t,e,i){if(r){const n=pe(r,t,e,i);return r[0](n)}}function pe(r,t,e,i){return r[1]&&i?ke(e.ctx.slice(),r[1](i(t))):e.ctx}function je(r,t,e,i){if(r[2]&&i){const n=r[2](i(e));if(t.dirty===void 0)return n;if(typeof n=="object"){const c=[],l=Math.max(t.dirty.length,n.length);for(let f=0;f<l;f+=1)c[f]=t.dirty[f]|n[f];return c}return t.dirty|n}return t.dirty}function Se(r,t,e,i,n,c){if(n){const l=pe(t,e,i,c);r.p(l,n)}}function Oe(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let i=0;i<e;i++)t[i]=-1;return t}return-1}function Ut(r){return r??""}function L(r,t){r.appendChild(t)}function J(r,t,e){r.insertBefore(t,e||null)}function P(r){r.parentNode&&r.parentNode.removeChild(r)}function Tt(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function z(r){return document.createElement(r)}function et(r){return document.createTextNode(r)}function K(){return et(" ")}function Et(){return et("")}function bt(r,t,e,i){return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e,i)}function B(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function De(r){return Array.from(r.childNodes)}function Ae(r,t){t=""+t,r.data!==t&&(r.data=t)}function tt(r,t,e,i){e==null?r.style.removeProperty(t):r.style.setProperty(t,e,"")}function xe(r,t,{bubbles:e=!1,cancelable:i=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:i})}let jt;function $t(r){jt=r}function _e(){if(!jt)throw new Error("Function called outside component initialization");return jt}function Ge(r){_e().$$.on_mount.push(r)}function Ne(){const r=_e();return(t,e,{cancelable:i=!1}={})=>{const n=r.$$.callbacks[t];if(n){const c=xe(t,e,{cancelable:i});return n.slice().forEach(l=>{l.call(r,c)}),!c.defaultPrevented}return!0}}function Ee(r,t){const e=r.$$.callbacks[t.type];e&&e.slice().forEach(i=>i.call(this,t))}const _t=[],Ht=[];let yt=[];const Lt=[],Ce=Promise.resolve();let Pt=!1;function Ie(){Pt||(Pt=!0,Ce.then(ye))}function St(r){yt.push(r)}const Mt=new Set;let ht=0;function ye(){if(ht!==0)return;const r=jt;do{try{for(;ht<_t.length;){const t=_t[ht];ht++,$t(t),Me(t.$$)}}catch(t){throw _t.length=0,ht=0,t}for($t(null),_t.length=0,ht=0;Ht.length;)Ht.pop()();for(let t=0;t<yt.length;t+=1){const e=yt[t];Mt.has(e)||(Mt.add(e),e())}yt.length=0}while(_t.length);for(;Lt.length;)Lt.pop()();Pt=!1,Mt.clear(),$t(r)}function Me(r){if(r.fragment!==null){r.update(),Ot(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(St)}}function Be(r){const t=[],e=[];yt.forEach(i=>r.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),yt=t}const Gt=new Set;let lt;function ct(){lt={r:0,c:[],p:lt}}function st(){lt.r||Ot(lt.c),lt=lt.p}function q(r,t){r&&r.i&&(Gt.delete(r),r.i(t))}function W(r,t,e,i){if(r&&r.o){if(Gt.has(r))return;Gt.add(r),lt.c.push(()=>{Gt.delete(r),i&&(e&&r.d(1),i())}),r.o(t)}else i&&i()}function rt(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function X(r){r&&r.c()}function V(r,t,e){const{fragment:i,after_update:n}=r.$$;i&&i.m(t,e),St(()=>{const c=r.$$.on_mount.map(se).filter(de);r.$$.on_destroy?r.$$.on_destroy.push(...c):Ot(c),r.$$.on_mount=[]}),n.forEach(St)}function Q(r,t){const e=r.$$;e.fragment!==null&&(Be(e.after_update),Ot(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function He(r,t){r.$$.dirty[0]===-1&&(_t.push(r),Ie(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function gt(r,t,e,i,n,c,l=null,f=[-1]){const d=jt;$t(r);const a=r.$$={fragment:null,ctx:[],props:c,update:Z,not_equal:n,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:zt(),dirty:f,skip_bound:!1,root:t.target||d.$$.root};l&&l(a.root);let s=!1;if(a.ctx=e?e(r,t.props||{},(h,g,...j)=>{const p=j.length?j[0]:g;return a.ctx&&n(a.ctx[h],a.ctx[h]=p)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](p),s&&He(r,h)),g}):[],a.update(),s=!0,Ot(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const h=De(t.target);a.fragment&&a.fragment.l(h),h.forEach(P)}else a.fragment&&a.fragment.c();t.intro&&q(r.$$.fragment),V(r,t.target,t.anchor),ye()}$t(d)}class kt{constructor(){It(this,"$$");It(this,"$$set")}$destroy(){Q(this,1),this.$destroy=Z}$on(t,e){if(!de(e))return Z;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const n=i.indexOf(e);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Pe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pe);function Je(r){let t,e,i,n,c;const l=r[2].default,f=Te(l,r,r[1],null);return{c(){t=z("button"),f&&f.c(),B(t,"class",e="button "+r[0]+" svelte-zqnkwt")},m(d,a){J(d,t,a),f&&f.m(t,null),i=!0,n||(c=bt(t,"click",r[3]),n=!0)},p(d,[a]){f&&f.p&&(!i||a&2)&&Se(f,l,d,d[1],i?je(l,d[1],a,null):Oe(d[1]),null),(!i||a&1&&e!==(e="button "+d[0]+" svelte-zqnkwt"))&&B(t,"class",e)},i(d){i||(q(f,d),i=!0)},o(d){W(f,d),i=!1},d(d){d&&P(t),f&&f.d(d),n=!1,c()}}}function Fe(r,t,e){let{$$slots:i={},$$scope:n}=t,{colour:c="green"}=t;function l(f){Ee.call(this,r,f)}return r.$$set=f=>{"colour"in f&&e(0,c=f.colour),"$$scope"in f&&e(1,n=f.$$scope)},[c,n,i,l]}class at extends kt{constructor(t){super(),gt(this,t,Fe,Je,dt,{colour:0})}}const vt=r=>{switch(r){case"Curse":return"#DC77FF";case"Deck":return"#8995D5";case"Movement":return"#FDFF84";case"Change":return"#FFA944";case"Mystery":return"#F35555";case"Board":return"#88F355";case"Starter":return"#AFE2EA";default:return"#FFFFFF"}},ot=r=>window.location.href.includes("localhost")?`${window.location.href}/${r}.svg`:`${r}.svg`,Kt=r=>{const t=Math.random().toString(36);return r===1?{id:t,cardHalf1:{cardType:{passive:!1,type:"Mystery"},text:"placeholder"},cardHalf2:void 0}:{id:t,cardHalf1:{cardType:{passive:!0,type:"Deck"},text:"placeholder"},cardHalf2:{cardType:{passive:!1,type:"Movement"},text:"placeholder"}}};function qe(r){let t,e,i;return{c(){t=z("div"),B(t,"contenteditable","true"),B(t,"class","cardText svelte-13kvtzw"),r[0].text===void 0&&St(()=>r[4].call(t))},m(n,c){J(n,t,c),r[0].text!==void 0&&(t.innerText=r[0].text),e||(i=bt(t,"input",r[4]),e=!0)},p(n,c){c&1&&n[0].text!==t.innerText&&(t.innerText=n[0].text)},d(n){n&&P(t),e=!1,i()}}}function Re(r){let t,e,i,n,c=r[0].cardType.passive&&Vt();return{c(){t=z("img"),i=K(),c&&c.c(),n=Et(),it(t.src,e=ot(r[0].cardType.type))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class","cardIcon svelte-13kvtzw")},m(l,f){J(l,t,f),J(l,i,f),c&&c.m(l,f),J(l,n,f)},p(l,f){f&1&&!it(t.src,e=ot(l[0].cardType.type))&&B(t,"src",e),l[0].cardType.passive?c||(c=Vt(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(l){l&&(P(t),P(i),P(n)),c&&c.d(l)}}}function Vt(r){let t;return{c(){t=z("p"),t.textContent="Passive",B(t,"class","mirrored svelte-13kvtzw")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function We(r){let t,e;function i(l,f){return l[2]?Re:qe}let n=i(r),c=n(r);return{c(){t=z("div"),e=z("div"),c.c(),B(e,"class","card svelte-13kvtzw"),tt(e,"--colour",r[3]),B(t,"class","wrapper svelte-13kvtzw"),tt(t,"--rotation",r[1]+"deg")},m(l,f){J(l,t,f),L(t,e),c.m(e,null)},p(l,[f]){n===(n=i(l))&&c?c.p(l,f):(c.d(1),c=n(l),c&&(c.c(),c.m(e,null))),f&8&&tt(e,"--colour",l[3]),f&2&&tt(t,"--rotation",l[1]+"deg")},i:Z,o:Z,d(l){l&&P(t),c.d()}}}function ze(r,t,e){let i,{card:n}=t,{rotation:c=0}=t,{back:l=!1}=t;function f(){n.text=this.innerText,e(0,n)}return r.$$set=d=>{"card"in d&&e(0,n=d.card),"rotation"in d&&e(1,c=d.rotation),"back"in d&&e(2,l=d.back)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=vt(n.cardType.type))},[n,c,l,i,f]}class Qt extends kt{constructor(t){super(),gt(this,t,ze,We,dt,{card:0,rotation:1,back:2})}}function Xt(r,t,e){const i=r.slice();return i[12]=t[e],i}function Yt(r){let t,e,i,n,c,l,f,d,a=r[5]&&Zt(r),s=!r[3]&&ee(r);return{c(){t=z("div"),e=z("img"),n=K(),a&&a.c(),c=K(),s&&s.c(),l=Et(),it(e.src,i=ot(r[0]))||B(e,"src",i),B(e,"alt","My Icon"),B(e,"class","cardIcon svelte-lm5vvd"),B(t,"class","select svelte-lm5vvd")},m(h,g){J(h,t,g),L(t,e),L(t,n),a&&a.m(t,null),J(h,c,g),s&&s.m(h,g),J(h,l,g),f||(d=bt(e,"click",r[8]),f=!0)},p(h,g){g&1&&!it(e.src,i=ot(h[0]))&&B(e,"src",i),h[5]?a?a.p(h,g):(a=Zt(h),a.c(),a.m(t,null)):a&&(a.d(1),a=null),h[3]?s&&(s.d(1),s=null):s?s.p(h,g):(s=ee(h),s.c(),s.m(l.parentNode,l))},d(h){h&&(P(t),P(c),P(l)),a&&a.d(),s&&s.d(h),f=!1,d()}}}function Zt(r){let t,e=rt(r[4]),i=[];for(let n=0;n<e.length;n+=1)i[n]=te(Xt(r,e,n));return{c(){t=z("div");for(let n=0;n<i.length;n+=1)i[n].c();B(t,"class","options svelte-lm5vvd"),tt(t,"--colour",r[6])},m(n,c){J(n,t,c);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null)},p(n,c){if(c&49){e=rt(n[4]);let l;for(l=0;l<e.length;l+=1){const f=Xt(n,e,l);i[l]?i[l].p(f,c):(i[l]=te(f),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=e.length}c&64&&tt(t,"--colour",n[6])},d(n){n&&P(t),Tt(i,n)}}}function te(r){let t,e,i,n,c;function l(){return r[9](r[12])}return{c(){t=z("img"),it(t.src,e=ot(r[12]))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class",i="cardIcon "+(r[0]===r[12]?"hidden":"")+" svelte-lm5vvd")},m(f,d){J(f,t,d),n||(c=bt(t,"click",l),n=!0)},p(f,d){r=f,d&16&&!it(t.src,e=ot(r[12]))&&B(t,"src",e),d&17&&i!==(i="cardIcon "+(r[0]===r[12]?"hidden":"")+" svelte-lm5vvd")&&B(t,"class",i)},d(f){f&&P(t),n=!1,c()}}}function ee(r){let t,e,i,n,c,l,f;return{c(){t=z("input"),e=K(),i=z("label"),n=et("Passive"),B(t,"type","checkbox"),B(t,"id",r[7]),B(t,"class","hidden"),B(i,"for",r[7]),B(i,"class",c="passive no-select "+(r[1]?"":"invisible")+" svelte-lm5vvd")},m(d,a){J(d,t,a),t.checked=r[1],J(d,e,a),J(d,i,a),L(i,n),l||(f=bt(t,"change",r[10]),l=!0)},p(d,a){a&2&&(t.checked=d[1]),a&2&&c!==(c="passive no-select "+(d[1]?"":"invisible")+" svelte-lm5vvd")&&B(i,"class",c)},d(d){d&&(P(t),P(e),P(i)),l=!1,f()}}}function Ue(r){let t,e=!r[2]&&Yt(r);return{c(){e&&e.c(),t=Et()},m(i,n){e&&e.m(i,n),J(i,t,n)},p(i,[n]){i[2]?e&&(e.d(1),e=null):e?e.p(i,n):(e=Yt(i),e.c(),e.m(t.parentNode,t))},i:Z,o:Z,d(i){i&&P(t),e&&e.d(i)}}}function Le(r,t,e){let i,{cardType:n}=t,{passive:c=!1}=t,{back:l=!1}=t,{noPassive:f=!1}=t;const d=Math.random().toString(36).substring(7),a=Ne();let s=!1,{names:h=["Board","Change","Deck","Movement","Mystery","Curse","Starter"]}=t;const g=()=>e(5,s=!s),j=v=>{e(0,n=v),e(5,s=!1)};function p(){c=this.checked,e(1,c)}return r.$$set=v=>{"cardType"in v&&e(0,n=v.cardType),"passive"in v&&e(1,c=v.passive),"back"in v&&e(2,l=v.back),"noPassive"in v&&e(3,f=v.noPassive),"names"in v&&e(4,h=v.names)},r.$$.update=()=>{r.$$.dirty&1&&e(6,i=vt(n)),r.$$.dirty&1&&a("type",n),r.$$.dirty&2&&a("passive",c)},[n,c,l,f,h,s,i,d,g,j,p]}class Nt extends kt{constructor(t){super(),gt(this,t,Le,Ue,dt,{cardType:0,passive:1,back:2,noPassive:3,names:4})}}function Ke(r){let t,e;return{c(){t=z("img"),it(t.src,e=ot(r[0].cardType.type))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class","cardIcon svelte-15hk4fg")},m(i,n){J(i,t,n)},p(i,n){n&1&&!it(t.src,e=ot(i[0].cardType.type))&&B(t,"src",e)},i:Z,o:Z,d(i){i&&P(t)}}}function Ve(r){let t,e,i,n,c,l,f;return e=new Nt({props:{cardType:r[0].cardType.type,passive:r[0].cardType.passive,names:["Mystery","Curse","Starter"]}}),e.$on("type",r[2]),{c(){t=z("p"),X(e.$$.fragment),i=K(),n=z("div"),B(t,"class","svelte-15hk4fg"),B(n,"contenteditable","true"),B(n,"class","cardText svelte-15hk4fg"),r[0].text===void 0&&St(()=>r[3].call(n))},m(d,a){J(d,t,a),V(e,t,null),J(d,i,a),J(d,n,a),r[0].text!==void 0&&(n.innerText=r[0].text),c=!0,l||(f=bt(n,"input",r[3]),l=!0)},p(d,a){const s={};a&1&&(s.cardType=d[0].cardType.type),a&1&&(s.passive=d[0].cardType.passive),e.$set(s),a&1&&d[0].text!==n.innerText&&(n.innerText=d[0].text)},i(d){c||(q(e.$$.fragment,d),c=!0)},o(d){W(e.$$.fragment,d),c=!1},d(d){d&&(P(t),P(i),P(n)),Q(e),l=!1,f()}}}function Qe(r){let t,e,i,n;const c=[Ve,Ke],l=[];function f(d,a){return d[1]?1:0}return e=f(r),i=l[e]=c[e](r),{c(){t=z("div"),i.c(),B(t,"class","card svelte-15hk4fg"),tt(t,"--colour",vt(r[0].cardType.type))},m(d,a){J(d,t,a),l[e].m(t,null),n=!0},p(d,[a]){let s=e;e=f(d),e===s?l[e].p(d,a):(ct(),W(l[s],1,1,()=>{l[s]=null}),st(),i=l[e],i?i.p(d,a):(i=l[e]=c[e](d),i.c()),q(i,1),i.m(t,null)),(!n||a&1)&&tt(t,"--colour",vt(d[0].cardType.type))},i(d){n||(q(i),n=!0)},o(d){W(i),n=!1},d(d){d&&P(t),l[e].d()}}}function Xe(r,t,e){let{card:i}=t,{back:n=!1}=t;const c=({detail:f})=>e(0,i.cardType.type=f,i);function l(){i.text=this.innerText,e(0,i)}return r.$$set=f=>{"card"in f&&e(0,i=f.card),"back"in f&&e(1,n=f.back)},[i,n,c,l]}class Ye extends kt{constructor(t){super(),gt(this,t,Xe,Qe,dt,{card:0,back:1})}}function Ze(r){let t,e;return t=new Ye({props:{card:r[0].cardHalf1,back:r[1]}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&1&&(c.card=i[0].cardHalf1),n&2&&(c.back=i[1]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function tn(r){let t,e,i,n,c,l,f,d,a,s,h,g,j,p;return i=new Nt({props:{cardType:r[0].cardHalf1.cardType.type,passive:r[0].cardHalf1.cardType.passive,back:r[1]}}),i.$on("type",r[4]),i.$on("passive",r[5]),c=new Qt({props:{card:r[0].cardHalf1,back:r[1]}}),d=new Qt({props:{card:r[0].cardHalf2,rotation:r[2]?0:180,back:r[1]}}),h=new Nt({props:{cardType:r[0].cardHalf2.cardType.type,passive:r[0].cardHalf2.cardType.passive,back:r[1]}}),h.$on("type",r[6]),h.$on("passive",r[7]),{c(){t=z("div"),e=z("p"),X(i.$$.fragment),n=K(),X(c.$$.fragment),l=K(),f=z("div"),X(d.$$.fragment),a=K(),s=z("p"),X(h.$$.fragment),g=K(),j=z("div"),B(e,"class","first svelte-1ubeuca"),B(t,"class","first-half half"),B(s,"class","second svelte-1ubeuca"),B(f,"class","second-half half svelte-1ubeuca"),B(j,"class","fill svelte-1ubeuca")},m(v,k){J(v,t,k),L(t,e),V(i,e,null),L(t,n),V(c,t,null),J(v,l,k),J(v,f,k),V(d,f,null),L(f,a),L(f,s),V(h,s,null),J(v,g,k),J(v,j,k),p=!0},p(v,k){const O={};k&1&&(O.cardType=v[0].cardHalf1.cardType.type),k&1&&(O.passive=v[0].cardHalf1.cardType.passive),k&2&&(O.back=v[1]),i.$set(O);const w={};k&1&&(w.card=v[0].cardHalf1),k&2&&(w.back=v[1]),c.$set(w);const u={};k&1&&(u.card=v[0].cardHalf2),k&4&&(u.rotation=v[2]?0:180),k&2&&(u.back=v[1]),d.$set(u);const y={};k&1&&(y.cardType=v[0].cardHalf2.cardType.type),k&1&&(y.passive=v[0].cardHalf2.cardType.passive),k&2&&(y.back=v[1]),h.$set(y)},i(v){p||(q(i.$$.fragment,v),q(c.$$.fragment,v),q(d.$$.fragment,v),q(h.$$.fragment,v),p=!0)},o(v){W(i.$$.fragment,v),W(c.$$.fragment,v),W(d.$$.fragment,v),W(h.$$.fragment,v),p=!1},d(v){v&&(P(t),P(l),P(f),P(g),P(j)),Q(i),Q(c),Q(d),Q(h)}}}function en(r){let t,e,i,n,c;const l=[tn,Ze],f=[];function d(a,s){return a[0].cardHalf2?0:1}return e=d(r),i=f[e]=l[e](r),{c(){t=z("div"),i.c(),B(t,"class",n=Ut(`card ${r[1]&&"back"}`)+" svelte-1ubeuca"),tt(t,"--colour",r[3])},m(a,s){J(a,t,s),f[e].m(t,null),c=!0},p(a,[s]){let h=e;e=d(a),e===h?f[e].p(a,s):(ct(),W(f[h],1,1,()=>{f[h]=null}),st(),i=f[e],i?i.p(a,s):(i=f[e]=l[e](a),i.c()),q(i,1),i.m(t,null)),(!c||s&2&&n!==(n=Ut(`card ${a[1]&&"back"}`)+" svelte-1ubeuca"))&&B(t,"class",n),(!c||s&8)&&tt(t,"--colour",a[3])},i(a){c||(q(i),c=!0)},o(a){W(i),c=!1},d(a){a&&P(t),f[e].d()}}}function nn(r,t,e){let i,{card:n}=t,{back:c=!1}=t,{readable:l=!1}=t;const f=({detail:h})=>e(0,n.cardHalf1.cardType.type=h,n),d=({detail:h})=>e(0,n.cardHalf1.cardType.passive=h,n),a=({detail:h})=>{n.cardHalf2&&e(0,n.cardHalf2.cardType.type=h,n)},s=({detail:h})=>{n.cardHalf2&&e(0,n.cardHalf2.cardType.passive=h,n)};return r.$$set=h=>{"card"in h&&e(0,n=h.card),"back"in h&&e(1,c=h.back),"readable"in h&&e(2,l=h.readable)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=vt(n.cardHalf1.cardType.type))},[n,c,l,i,f,d,a,s]}class Ft extends kt{constructor(t){super(),gt(this,t,nn,en,dt,{card:0,back:1,readable:2})}}const ne=(r,t=9)=>{const e=[];let i=0;for(;i<r.length;)e.push(r.slice(i,t+i)),i+=t;return e};function rn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function on(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qt={exports:{}};qt.exports;(function(r){(function(){function t(i,n){return n?on(i):i.slice?t[c(i)]:function(l,f){i(l={exports:{}}),t[c(f)]=l.exports};function c(l){return l.split("/").slice(-1).toString().replace(".js","")}}var e=r;t(function(i){String.random=function(c,l){var f="";for(c=c||24,l=l||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";c-- >0;)f+=l.charAt(Math.floor(Math.random()*l.length));return f},String.match=function(c,l){var f,d;return typeof c!="string"?!1:(typeof l=="string"&&(l={"=":l}),l=l||{},f=l["="]||l["*"]||l[">"]||l["<"],c===f?!0:d!==l["="]?!1:(f=l["*"]||l[">"],c.slice(0,(f||"").length)===f?!0:d!==l["*"]?!1:d!==l[">"]&&d!==l["<"]?c>=l[">"]&&c<=l["<"]:d!==l[">"]&&c>=l[">"]||d!==l["<"]&&c<=l["<"]))},String.hash=function(c,l){if(typeof c=="string"){if(l=l||0,!c.length)return l;for(var f=0,d=c.length,a;f<d;++f)a=c.charCodeAt(f),l=(l<<5)-l+a,l|=0;return l}};var n=Object.prototype.hasOwnProperty;Object.plain=function(c){return c?c instanceof Object&&c.constructor===Object||Object.prototype.toString.call(c).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(c,l){for(var f in c)if(n.call(c,f)&&(!l||l.indexOf(f)==-1))return!1;return!0},Object.keys=Object.keys||function(c){var l=[];for(var f in c)n.call(c,f)&&l.push(f);return l},function(){var c,l=setTimeout,f=0,d=0,a=typeof setImmediate!=""+c&&setImmediate||function(h,g){return typeof MessageChannel==""+c?l:((h=new MessageChannel).port1.onmessage=function(j){j.data==""&&g()},function(j){g=j,h.port2.postMessage("")})}(),s=l.check=l.check||typeof performance!=""+c&&performance||{now:function(){return+new Date}};l.hold=l.hold||9,l.poll=l.poll||function(h){if(l.hold>=s.now()-f&&d++<3333){h();return}a(function(){f=s.now(),h()},d=0)}}(),function(){var c=setTimeout,l=c.turn=c.turn||function(g){f.push(g)==1&&d(h)},f=l.s=[],d=c.poll,a=0,s,h=function(){(s=f[a++])&&s(),(a==f.length||a==99)&&(f=l.s=f.slice(a),a=0),f.length&&d(h)}}(),function(){var c,l=setTimeout,f=l.turn;(l.each=l.each||function(d,a,s,h){h=h||9,function g(j,p,v){if(p=(j=(d||[]).splice(0,h)).length){for(var k=0;k<p&&c===(v=a(j[k]));k++);if(c===v){f(g);return}}s&&s(v)}()})()}()})(t,"./shim"),t(function(i){i.exports=function n(s,l,f){if(!s)return{to:n};var d,a=typeof l=="function",s=(this.tag||(this.tag={}))[s]||a&&(this.tag[s]={tag:s,to:n._={next:function(g){var j;(j=this.to)&&j.next(g)}}});if(a){var h={off:n.off||(n.off=function(){if(this.next===n._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=n._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:n._,next:l,the:s,on:this,as:f};return(h.back=s.last||s).to=h,s.last=h}return(s=s.to)&&d!==l&&s.next(l),s}})(t,"./onto"),t(function(i){i.exports=function(n){return n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"&&n!=1/0&&n!=-1/0&&n===n||!!n&&typeof n["#"]=="string"&&Object.keys(n).length===1&&n["#"]}})(t,"./valid"),t(function(i){t("./shim");function n(){var s=+new Date;return d<s?(l=0,d=s+n.drift):d=s+(l+=1)/f+n.drift}n.drift=0;var c=-1/0,l=0,f=999,d=c,a;n.is=function(s,h,g){var j=h&&s&&s._&&s._[">"]||g;if(j)return typeof(j=j[h])=="number"?j:c},n.ify=function(s,h,g,j,p){(s=s||{})._=s._||{},p&&(s._["#"]=p);var v=s._[">"]||(s._[">"]={});return a!==h&&h!=="_"&&(typeof g=="number"&&(v[h]=g),a!==j&&(s[h]=j)),s},i.exports=n})(t,"./state"),t(function(i){t("./shim");function n(c){var l={s:{}},f=l.s;c=c||{max:999,age:1e3*9},l.check=function(a){return f[a]?d(a):!1};var d=l.track=function(a){var s=f[a]||(f[a]={});return s.was=l.now=+new Date,l.to||(l.to=setTimeout(l.drop,c.age+9)),d.ed&&d.ed(a),s};return l.drop=function(a){l.to=null,l.now=+new Date;var s=Object.keys(f);console.STAT&&console.STAT(l.now,+new Date-l.now,"dup drop keys"),setTimeout.each(s,function(h){var g=f[h];g&&(a||c.age)>l.now-g.was||delete f[h]},0,99)},l}i.exports=n})(t,"./dup"),t(function(i){t("./onto"),i.exports=function(l,f){if(this.on){var d=(this.opt||{}).lack||9e3;if(typeof l!="function"){if(!l)return;var s=l["#"]||l,a=(this.tag||"")[s];return a?(f&&(a=this.on(s,f),clearTimeout(a.err),a.err=setTimeout(function(){a.off()},d)),!0):void 0}var s=f&&f["#"]||n(9);if(!l)return s;var h=this.on(s,l,f);return h.err=h.err||setTimeout(function(){h.off(),h.next({err:"Error: No ACK yet.",lack:!0})},d),s}};var n=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(i){function n(p){return p instanceof n?(this._={$:this}).$:this instanceof n?n.create(this._={$:this,opt:p}):new n(p)}n.is=function(p){return p instanceof n||p&&p._&&p===p._.$||!1},n.version=.202,n.chain=n.prototype,n.chain.toJSON=function(){},t("./shim"),n.valid=t("./valid"),n.state=t("./state"),n.on=t("./onto"),n.dup=t("./dup"),n.ask=t("./ask"),function(){n.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||n.on,o.ask=o.ask||n.ask,o.dup=o.dup||n.dup();var b=o.$.opt(o.opt);return o.once||(o.on("in",p,o),o.on("out",p,o),o.on("put",O,o),n.on("create",o),o.on("create",o)),o.once=1,b};function p(o){if(o){if(o.out===p){this.to.next(o);return}var b=this,$=b.as,C=$.at||$,N=C.$,S=C.dup,E,I=o.DBG;if((E=o["#"])||(E=o["#"]=l(9)),!S.check(E)){if(S.track(E),E=o._,o._=typeof E=="function"?E:function(){},o.$&&o.$===(o.$._||"").$||(o.$=N),o["@"]&&!o.put&&u(o),!C.ask(o["@"],o))if(I&&(I.u=+new Date),o.put){v(o);return}else o.get&&n.on.get(o,N);I&&(I.uc=+new Date),b.to.next(o),I&&(I.ua=+new Date),!(o.nts||o.NTS)&&(o.out=p,C.on("out",o),I&&(I.ue=+new Date))}}}function v(o){if(o){var b=o._||"",$=b.root=((b.$=o.$||"")._||"").root;if(o["@"]&&b.faith&&!b.miss){o.out=p,$.on("out",o);return}b.latch=$.hatch,b.match=$.hatch=[];var C=o.put,N=b.DBG=o.DBG,S=+new Date;if(A=A||S,!(C["#"]&&C["."])){N&&(N.p=S),b["#"]=o["#"],b.msg=o,b.all=0,b.stun=1;var E=Object.keys(C);console.STAT&&console.STAT(S,((N||b).pk=+new Date)-S,"put sort");var I=0,H,F,R,U,Y,nt,mt;(function ut(Dt){if(H!=I){if(H=I,!(R=E[I])){console.STAT&&console.STAT(S,((N||b).pd=+new Date)-S,"put"),w(b);return}(U=C[R])?(mt=U._)?R!==mt["#"]?nt=T+G(R)+"soul not same.":(Y=mt[">"])||(nt=T+G(R)+"no state."):nt=T+G(R)+"no meta.":nt=T+G(R)+"no node.",F=Object.keys(U||{})}if(nt){o.err=b.err=nt,w(b);return}var Rt=0,ft;for(Dt=Dt||0;Dt++<9&&(ft=F[Rt++]);)if(ft!=="_"){var At=U[ft],Wt=Y[ft];if(h===Wt){nt=T+G(ft)+"on"+G(R)+"no state.";break}if(!d(At)){nt=T+G(ft)+"on"+G(R)+"bad "+typeof At+G(At);break}k(At,ft,R,Wt,o),++M}if((F=F.slice(Rt)).length){f(ut);return}++I,F=null,ut(Dt)})()}}}n.on.put=v;function k(o,b,$,C,N){var S=N._||"",E=S.root,I=E.graph,H,F=I[$]||g,R=a(F,b,1),U=F[b],Y=S.DBG;(H=console.STAT)&&(!I[$]||!U)&&(H.has=(H.has||0)+1);var nt=D();if(C>nt){setTimeout(function(){k(o,b,$,C,N)},(H=C-nt)>x?x:H),console.STAT&&console.STAT((Y||S).Hf=+new Date,H,"future");return}if(!(C<R)&&!(!S.faith&&C===R&&(o===U||m(o)<=m(U))&&!S.miss)){S.stun++;var mt=N["#"]+S.all++,ut={toString:function(){return mt},_:S};ut.toJSON=ut.toString,E.dup.track(ut)["#"]=N["#"],Y&&(Y.ph=Y.ph||+new Date),E.on("put",{"#":ut,"@":N["@"],put:{"#":$,".":b,":":o,">":C},ok:N.ok,_:S})}}function O(o){var b;(b=(o._||"").DBG)&&(b.pa=+new Date,b.pm=b.pm||+new Date);var $=this,C=$.as,N=C.graph,S=o._,E=o.put,I=E["#"],H=E["."],F=E[":"],R=E[">"];o["#"];var U;(U=S.msg)&&(U=U.put)&&(U=U[I])&&s(U,H,R,F,I),N[I]=s(N[I],H,R,F,I),(U=(C.next||"")[I])&&U.on("in",o),w(S),$.to.next(o)}function w(o,b){var $;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!($=o.root))){var C=o.match;C.end=1,C===$.hatch&&(!(C=o.latch)||C.end?delete $.hatch:$.hatch=C),o.hatch&&o.hatch(),setTimeout.each(o.match,function(N){N&&N()}),!(!(b=o.msg)||o.err||b.err)&&(b.out=p,o.root.on("out",b),_())}}function u(o){var b=o["@"]||"",$;if(!($=b._)){var C=(C=o.$)&&(C=C._)&&(C=C.root)&&(C=C.dup);if(!(C=C.check(b)))return;o["@"]=C["#"]||o["@"];return}$.acks=($.acks||0)+1,($.err=o.err)&&(o["@"]=$["#"],w($)),$.ok=o.ok||$.ok,!$.stop&&!$.crack&&($.crack=$.match&&$.match.push(function(){y($)})),y($)}function y(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?h:o.ok||{"":1}})}var T="Error: Invalid graph!",G=function(o){return" '"+(""+o).slice(0,9)+"...' "},m=JSON.stringify,x=2147483647,D=n.state,M=0,A,_=function(){M>999&&M/-(A-(A=+new Date))>1&&(n.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),_=function(){M=0})}}(),function(){n.on.get=function(v,k){var O=k._,w=v.get,u=w["#"],y=O.graph[u],T=w["."],G=O.next||(O.next={}),m=G[u],x=v._||{},D=x.DBG=v.DBG;if(D&&(D.g=+new Date),!y)return O.on("get",v);if(T){if((typeof T!="string"||h===y[T])&&!((m||"").next||"")[T]){O.on("get",v);return}y=s({},T,a(y,T),y[T],u)}y&&p(v,y),O.on("get",v)};function p(v,k){var O=+new Date,w=v._||{},u=w.DBG=v.DBG,y=v["#"],T=l(9),G=Object.keys(k||"").sort(),m=((k||"")._||"")["#"];G.length;var x=v.$._.root,D=k===x.graph[m];console.STAT&&console.STAT(O,((u||w).gk=+new Date)-O,"got keys"),k&&function M(){O=+new Date;for(var A=0,_,o={},b;A<9&&(_=G[A++]);)s(o,_,a(k,_),k[_],m);G=G.slice(A),(b={})[m]=o,o=b;var $;D&&($=function(){},$.ram=$.faith=!0),b=G.length,console.STAT&&console.STAT(O,-(O-(O=+new Date)),"got copied some"),u&&(u.ga=+new Date),x.on("in",{"@":y,"#":T,put:o,"%":b?T=l(9):h,$:x.$,_:$,DBG:u,FOO:1}),console.STAT&&console.STAT(O,+new Date-O,"got in"),b&&setTimeout.turn(M)}(),k||x.on("in",{"@":v["#"]})}n.on.get.ack=p}(),function(){n.chain.opt=function(p){p=p||{};var v=this,k=v._,O=p.peers||p;return Object.plain(p)||(p={}),Object.plain(k.opt)||(k.opt=p),typeof O=="string"&&(O=[O]),Object.plain(k.opt.peers)||(k.opt.peers={}),O instanceof Array&&(p.peers={},O.forEach(function(w){var u={};u.id=u.url=w,p.peers[w]=k.opt.peers[w]=k.opt.peers[w]||u})),c(p,function w(u){var y=this[u];if(this&&this.hasOwnProperty(u)||typeof y=="string"||Object.empty(y)){this[u]=y;return}y&&y.constructor!==Object&&!(y instanceof Array)||c(y,w)}),k.opt.from=p,n.on("opt",k),k.opt.uuid=k.opt.uuid||function(u){return n.state().toString(36).replace(".","")+String.random(u||12)},v}}();var c=function(p,v){Object.keys(p).forEach(v,p)},l=String.random,f=setTimeout.turn,d=n.valid,a=n.state.is,s=n.state.ify,h,g={},j;n.log=function(){return!n.log.off&&j.log.apply(j,arguments),[].slice.call(arguments).join(" ")},n.log.once=function(p,v,k){return(k=n.log.once)[p]=k[p]||0,k[p]++||n.log(v)},typeof window<"u"&&((window.GUN=window.Gun=n).window=window);try{typeof e<"u"&&(e.exports=n)}catch{}i.exports=n,(n.window||{}).console=(n.window||{}).console||{log:function(){}},(j=console).only=function(p,v){return j.only.i&&p===j.only.i&&j.only.i++&&(j.log.apply(j,arguments)||v)},n.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(i){var n=t("./root");n.chain.back=function(f,d){var a;if(f=f||1,f===-1||f===1/0)return this._.root.$;if(f===1)return(this._.back||this._).$;var s=this,h=s._;if(typeof f=="string"&&(f=f.split(".")),f instanceof Array){var g=0,j=f.length,a=h;for(g;g<j;g++)a=(a||c)[f[g]];return l!==a?d?s:a:(a=h.back)?a.$.back(f,d):void 0}if(typeof f=="function"){for(var p,a={back:h};(a=a.back)&&l===(p=f(a,d)););return p}return typeof f=="number"?(h.back||h).$.back(f-1):this};var c={},l})(t,"./back"),t(function(i){var n=t("./root");n.chain.chain=function(w){var u=this,y=u._,T=new(w||u).constructor(u),G=T._,m;return G.root=m=y.root,G.id=++m.once,G.back=u._,G.on=n.on,G.on("in",n.on.in,G),G.on("out",n.on.out,G),T};function c(w){var u,y=this.as,T=y.back,G=y.root,m;if(w.$||(w.$=y.$),this.to.next(w),y.err){y.on("in",{put:y.put=h,$:y.$});return}if(u=w.get){if(G.pass&&(G.pass[y.id]=y),y.lex&&Object.keys(y.lex).forEach(function(x){m[x]=y.lex[x]},m=w.get=w.get||{}),u["#"]||y.soul){if(u["#"]=u["#"]||y.soul,w["#"]||(w["#"]=g(9)),T=G.$.get(u["#"])._,u=u["."]){if(p(T.put,u)&&(m=T.ask&&T.ask[u],(T.ask||(T.ask={}))[u]=T.$.get(u)._,T.on("in",{get:u,put:{"#":T.soul,".":u,":":T.put[u],">":k(G.graph[T.soul],u)}}),m))return}else{if(m=T.ask&&T.ask[""],(T.ask||(T.ask={}))[""]=T,h!==T.put&&(T.on("in",T),m))return;w.$=T.$}return G.ask(a,w),G.on("in",w)}if(u["."])return y.get?(w={get:{".":y.get},$:y.$},(T.ask||(T.ask={}))[y.get]=w.$._,T.on("out",w)):(w={get:y.lex?w.get:{},$:y.$},T.on("out",w));if((y.ask||(y.ask={}))[""]=y,y.get)return u["."]=y.get,(T.ask||(T.ask={}))[y.get]=w.$._,T.on("out",w)}return T.on("out",w)}n.on.out=c;function l(w,u){u=u||this.as;var y=u.root,T=w.$||(w.$=u.$),G=(T||"")._||s,m=w.put||"",x=m["#"],D=m["."],M=h!==m["="]?m["="]:m[":"],A=m[">"]||-1/0,_;if(h!==w.put&&(h===m["#"]||h===m["."]||h===m[":"]&&h===m["="]||h===m[">"])){if(!j(m)){if(!(x=((m||"")._||"")["#"])){console.log("chain not yet supported for",m,"...",w,u);return}return T=u.root.$.get(x),setTimeout.each(Object.keys(m).sort(),function(o){o=="_"||h===(A=k(m,o))||u.on("in",{$:T,put:{"#":x,".":o,"=":m[o],">":A},VIA:w})})}u.on("in",{$:G.back.$,put:{"#":x=G.back.soul,".":D=G.has||G.get,"=":m,">":k(G.back.put,D)},via:w});return}(w.seen||"")[u.id]||((w.seen||(w.seen=function(){}))[u.id]=u,u!==G&&(Object.keys(w).forEach(function(o){m[o]=w[o]},m={}),m.get=u.get||m.get,!u.soul&&!u.has?m.$$$=m.$$$||u.$:G.soul&&(m.$=u.$,m.$$=m.$$||G.$),w=m),d(w,u),(u.soul||w.$$)&&A>=k(y.graph[x],D)&&((m=y.$.get(x)._).put=O(m.put,D,A,M,x)),!G.soul&&A>=k(y.graph[x],D)&&(_=(y.$.get(x)._.next||"")[D])&&(_.put=M,typeof(m=j(M))=="string"&&(_.put=y.$.get(m)._.put||M)),this.to&&this.to.next(w),u.any&&setTimeout.each(Object.keys(u.any),function(o){(o=u.any[o])&&o(w)},0,99),u.echo&&setTimeout.each(Object.keys(u.echo),function(o){(o=u.echo[o])&&o.on("in",w)},0,99),((w.$$||"")._||G).soul&&(_=u.next)&&(_=_[D])&&(m={},Object.keys(w).forEach(function(o){m[o]=w[o]}),m.$=(w.$$||w.$).get(m.get=D),delete m.$$,delete m.$$$,_.on("in",m)),f(w,u))}n.on.in=l;function f(w,u){if(u=u||this.as||w.$._,!(w.$$&&this!==n.on)&&!(!w.put||u.soul)){var y=w.put||"",T=y["="]||y[":"],D,G=u.root,m=G.$.get(y["#"]).get(y["."])._;if(typeof(T=j(T))!="string"){this===n.on&&((m.echo||(m.echo={}))[u.id]=u);return}if(!((m.echo||(m.echo={}))[u.id]&&!(G.pass||"")[u.id])){if(D=G.pass){if(D[T+u.id])return;D[T+u.id]=1}(m.echo||(m.echo={}))[u.id]=u,u.has&&(u.link=T);var x=G.$.get(m.link=T)._;(x.echo||(x.echo={}))[m.id]=m;var D=u.ask||"";(D[""]||u.lex)&&x.on("out",{get:{"#":T}}),setTimeout.each(Object.keys(D),function(M,A){!M||!(A=D[M])||A.on("out",{get:{"#":T,".":M}})},0,99)}}}n.on.link=f;function d(w,u){var y=w.put||"",T=h!==y["="]?y["="]:y[":"],G=u.root,m,x;if(h===T){if(u.soul&&h!==u.put||(x=(w.$$||w.$||"")._||"",w["@"]&&(h!==x.put||h!==u.put)))return;(m=u.link||w.linked)&&delete(G.$.get(m)._.echo||"")[u.id],u.has&&(u.link=null),u.put=h,setTimeout.each(Object.keys(u.next||""),function(D,M){(M=u.next[D])&&(m&&delete(G.$.get(m).get(D)._.echo||"")[M.id],M.on("in",{get:D,put:h,$:M.$}))},0,99);return}u.soul||w.$$||(m=j(T),x=w.$._||"",!((m===x.link||u.has&&!x.link)&&!((G.pass||"")[u.id]&&typeof m!="string"))&&(delete(x.echo||"")[u.id],d({get:u.get,put:h,$:w.$,linked:w.linked=w.linked||x.link},u)))}n.on.unlink=d;function a(w,u){var y=this.as,T=y.$._;T.root;var G=y.get||"",m=(w.put||"")[G["#"]]||"";if(!w.put||typeof G["."]=="string"&&h===m[G["."]]){if(h!==T.put||!T.soul&&!T.has)return;T.ack=(T.ack||0)+1,T.on("in",{get:T.get,put:T.put=h,$:T.$,"@":w["@"]});return}(w._||{}).miss=1,n.on.put(w)}var s={},h,g=String.random,j=n.valid,p=function(w,u){return w&&Object.prototype.hasOwnProperty.call(w,u)},v=n.state,k=v.is,O=v.ify})(t,"./chain"),t(function(i){var n=t("./root");n.chain.get=function(h,g,j){var p,v;if(typeof h=="string"){if(h.length==0)return(p=this.chain())._.err={err:n.log("0 length key!",h)},g&&g.call(p,p._.err),p;var k=this,O=k._,w=O.next||d;(p=w[h])||(p=h&&c(h,k)),p=p&&p.$}else if(typeof h=="function"){let D=function(M,A,_){if(!D.stun&&!((S=y.pass)&&!S[T])){var o=M.$._,b=(M.$$||"")._,$=(b||o).put,C=!o.has&&!o.soul,N={},S;if((C||s===$)&&($=s===((S=M.put)||"")["="]?s===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=n.valid($))=="string"&&($=s===(S=y.$.get(S)._.put)?u.not?s:$:S),!(u.not&&s===$)){if(s===u.stun){if((S=y.stun)&&S.on&&(O.$.back(function(E){if(S.on(""+E.id,N={}),(N.run||0)<D.id)return N}),!N.run&&S.on(""+o.id,N={}),!N.run&&b&&S.on(""+b.id,N={}),D.id>N.run&&((!N.stun||N.stun.end)&&(N.stun=S.on("stun"),N.stun=N.stun&&N.stun.last),N.stun&&!N.stun.end))){(N.stun.add||(N.stun.add={}))[T]=function(){D(M,A,1)};return}if(s===$&&(_=0),(S=y.hatch)&&!S.end&&s===u.hatch&&!_){if(G[o.$._.id])return;G[o.$._.id]=1,S.push(function(){D(M,A,1)});return}G={}}if(y.pass){if(y.pass[T+o.id])return;y.pass[T+o.id]=1}if(u.on){u.ok.call(o.$,$,o.get,M,A||D);return}if(u.v2020){u.ok(M,A||D);return}Object.keys(M).forEach(function(E){S[E]=M[E]},S={}),M=S,M.put=$,u.ok.call(u.as,M,A||D)}}};var m=D;if(g===!0)return l(this,h,g,j),this;p=this;var O=p._,u=g||{},y=O.root,T;u.at=O,u.ok=h;var G={};return D.at=O,(O.any||(O.any={}))[T=String.random(7)]=D,D.off=function(){D.stun=1,O.any&&delete O.any[T]},D.rid=f,D.id=u.run||++y.once,v=y.pass,(y.pass={})[T]=1,u.out=u.out||{get:{}},O.on("out",u.out),y.pass=v,p}else{if(typeof h=="number")return this.get(""+h,g,j);if(typeof(v=a(h))=="string")return this.get(v,g,j);(v=this.get.next)&&(p=v(this,h))}return p?(g&&typeof g=="function"&&p.get(g,j),p):((p=this.chain())._.err={err:n.log("Invalid get request!",h)},g&&g.call(p,p._.err),p)};function c(h,g){var j=g._,p=j.next,v=g.chain(),k=v._;return p||(p=j.next={}),p[k.get=h]=k,g===j.root.$?k.soul=h:(j.soul||j.has)&&(k.has=h),k}function l(h,g,j,p){var v=h._,k=0,O;return(O=v.soul||v.link)?g(O,p,v):v.jam?v.jam.push([g,p]):(v.jam=[[g,p]],h.get(function(u,y){if(!(s===u.put&&!v.root.opt.super&&(O=Object.keys(v.root.opt.peers).length)&&++k<=O)){y.rid(u);var T=(T=u.$)&&T._||{},G=0,m;for(O=v.jam,delete v.jam;m=O[G++];){var x=m[0];m=m[1],x&&x(T.link||T.soul||n.valid(u.put)||((u.put||{})._||{})["#"],m,u,y)}}},{out:{get:{".":!0}}}),h)}function f(h){var g=this.at||this.on;if(!h||g.soul||g.has)return this.off();if(h=(h=(h=h.$||h)._||h).id){g.map;var j;if((j=this.seen||(this.seen={}))[h])return!0;j[h]=!0}}var d={},a=n.valid,s})(t,"./get"),t(function(i){var n=t("./root");n.chain.put=function(p,v,k){var O=this,w=O._,u=w.root;k=k||{},k.root=w.root,k.run||(k.run=u.once),c(k,w.id),k.ack=k.ack||v,k.via=k.via||O,k.data=k.data||p,k.soul||(k.soul=w.soul||typeof v=="string"&&v);var y=k.state=k.state||n.state();return typeof p=="function"?(p(function(T){k.data=T,O.put(a,a,k)}),O):k.soul?(k.$=u.$.get(k.soul),k.todo=[{it:k.data,ref:k.$}],k.turn=k.turn||h,k.ran=k.ran||l,function T(){var G=k.todo,m=G.pop(),x=m.it;m.ref&&m.ref._.id;var D,M,A,_,o;if(c(k,m.ref),(_=m.todo)&&(M=_.pop(),x=x[M],_.length&&G.push(m)),M&&(G.path||(G.path=[])).push(M),!(D=g(x))&&!(o=n.is(x))){if(!Object.plain(x)){l.err(k,"Invalid data: "+d(x)+" at "+(k.via.back(function(S){S.get&&_.push(S.get)},_=[])||_.join("."))+"."+(G.path||[]).join("."));return}for(var b=k.seen||(k.seen=[]),$=b.length;$--;)if(x===(_=b[$]).it){D=x=_.link;break}}if(M&&D)m.node=j(m.node,M,y,x);else{let S=function(E,I){var H=A.link["#"];I&&(I.off(),I.rid(E));var F=H||E.soul||(_=(E.$$||E.$)._||"").soul||_.link||((_=_.put||"")._||"")["#"]||_["#"]||((_=E.put||"")&&E.$$?_["#"]:(_["="]||_[":"]||"")["#"]);if(!H&&c(k,E.$),!F&&!m.link["#"]){(m.wait||(m.wait=[])).push(function(){S(E,I)});return}F||(F=[],(E.$$||E.$).back(function(R){if(_=R.soul||R.link)return F.push(_);F.push(R.get)}),F=F.reverse().join("/")),A.link["#"]=F,!o&&(((k.graph||(k.graph={}))[F]=A.node||(A.node={_:{}}))._["#"]=F),delete k.wait[C],A.wait&&setTimeout.each(A.wait,function(R){R&&R()}),k.ran(k)};var N=S;if(!k.seen){l.err(k,"Data at root of graph must be a node (an object).");return}k.seen.push(A={it:x,link:{},todo:o?[]:Object.keys(x).sort().reverse(),path:(G.path||[]).slice(),up:m}),m.node=j(m.node,M,y,A.link),!o&&A.todo.length&&G.push(A);var C=k.seen.length;(k.wait||(k.wait={}))[C]="",_=(A.ref=o?x:M?m.ref.get(M):m.ref)._,(_=x&&(x._||"")["#"]||_.soul||_.link)?S({soul:_}):A.ref.get(S,{run:k.run,v2020:1,out:{get:{".":" "}}})}if(!G.length)return k.ran(k);k.turn(T)}(),O):(f(k),O)};function c(p,v){if(v){v=(v._||"").id||v;var k=p.root.stun||(p.root.stun={on:n.on}),O={},w;p.stun||(p.stun=k.on("stun",function(){})),(w=k.on(""+v))&&w.the.last.next(O),!(O.run>=p.run)&&k.on(""+v,function(u){if(p.stun.end){this.off(),this.to.next(u);return}u.run=u.run||p.run,u.stun=u.stun||p.stun})}}function l(p){if(p.err){l.end(p.stun,p.root);return}if(!(p.todo.length||p.end||!Object.empty(p.wait))){p.end=1;var v=p.$.back(-1)._,k=v.root,O=v.ask(function(T){k.on("ack",T),T.err&&!T.lack&&n.log(T),++w>(p.acks||0)&&this.off(),p.ack&&p.ack(T,this)},p.opt),w=0,u=p.stun,y;(y=function(){u&&(l.end(u,k),setTimeout.each(Object.keys(u=u.add||""),function(T){(T=u[T])&&T()}))}).hatch=y,p.ack&&!p.ok&&(p.ok=p.acks||9),p.via._.on("out",{put:p.out=p.graph,ok:p.ok&&{"@":p.ok+1},opt:p.opt,"#":O,_:y})}}l.end=function(p,v){p.end=s,p.the.to===p&&p===p.the.last&&delete v.stun,p.off()},l.err=function(p,v){(p.ack||s).call(p,p.out={err:p.err=n.log(v)}),p.ran(p)};function f(p){var v=p.via._,k;p.via=p.via.back(function(O){if(O.soul||!O.get)return O.$;k=p.data,(p.data={})[O.get]=k}),(!p.via||!p.via._.soul)&&(p.via=v.root.$.get(((p.data||"")._||"")["#"]||v.$.back("opt.uuid")())),p.via.put(p.data,p.ack,p)}function d(p,v){return p&&(v=p.constructor)&&v.name||typeof p}var a,s=function(){},h=setTimeout.turn,g=n.valid,j=n.state.ify})(t,"./put"),t(function(i){var n=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),i.exports=n})(t,"./index"),t(function(i){var n=t("./index");n.chain.on=function(f,d,a,s){var h=this,g=h._;g.root;var j;if(typeof f=="string")return d?(j=g.on(f,d,a||g,s),a&&a.$&&(a.subs||(a.subs=[])).push(j),h):g.on(f);var p=d;return(p=p===!0?{change:!0}:p||{}).not=1,p.on=1,h.get(f,p),h},n.chain.once=function(f,d){if(d=d||{},!f)return c(this);var a=this,s=a._,h=s.root;s.put;var g=String.random(7),j;return a.get(function(p,v,k,O){var w=this,u=w._,y=u.one||(u.one={});if(O.stun||y[g]==="")return;if((j=n.valid(p))===!0){T();return}if(typeof j=="string")return;clearTimeout((s.one||"")[g]),clearTimeout(y[g]),y[g]=setTimeout(T,d.wait||99);function T(G){if(!u.has&&!u.soul&&(u={put:p,get:v}),l===(j=u.put)&&(j=((k.$$||"")._||"").put),typeof n.valid(j)=="string"&&(j=h.$.get(j)._.put,j===l&&!G)){y[g]=setTimeout(function(){T(1)},d.wait||99);return}O.stun||y[g]!==""&&(y[g]="",(s.soul||s.has)&&O.off(),f.call(w,j,u.get),clearTimeout(y[g]))}},{on:1}),a};function c(f,d,a){return n.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(a=f.chain())._.nix=f.once(function(s,h){a._.on("in",this._)}),a._.lex=f._.lex,a}n.chain.off=function(){var f=this,d=f._,a,s=d.back;if(s)return d.ack=0,(a=s.next)&&a[d.get]&&delete a[d.get],(a=s.any)&&(delete s.any,s.any={}),(a=s.ask)&&delete a[d.get],(a=s.put)&&delete a[d.get],(a=d.soul)&&delete s.root.graph[a],(a=d.map)&&Object.keys(a).forEach(function(h,g){g=a[h],g.link&&s.root.$.get(g.link).off()}),(a=d.next)&&Object.keys(a).forEach(function(h,g){g=a[h],g.$.off()}),d.on("off",{}),f};var l})(t,"./on"),t(function(i){var n=t("./index"),c=n.chain.get.next;n.chain.get.next=function(a,s){var h;return Object.plain(s)?(h=((h=s["#"])||"")["="]||h)?a.get(h):((h=a.chain()._).lex=s,a.on("in",function(g){String.match(g.get||(g.put||"")["."],s["."]||s["#"]||s)&&h.on("in",g),this.to.next(g)}),h.$):(c||f)(a,s)},n.chain.map=function(a,s,h){var g=this,j=g._,p,v;return Object.plain(a)&&(p=a["."]?a:{".":a},a=d),a?(n.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),v=g.chain(),g.map().on(function(k,O,w,u){var y=(a||f).call(this,k,O,w,u);if(d!==y){if(k===y)return v._.on("in",w);if(n.is(y))return v._.on("in",y._);var T={};Object.keys(w.put).forEach(function(G){T[G]=w.put[G]},T),T["="]=y,v._.on("in",{get:O,put:T})}}),v):((v=j.each)||((j.each=v=g.chain())._.lex=p||v._.lex||j.lex,v._.nix=g.back("nix"),g.on("in",l,v._)),v)};function l(a){this.to.next(a);var s=this.as,h=a.$,g=h._,j=a.put,p;!g.soul&&!a.$$||(p=s.lex)&&!String.match(a.get||(j||"")["."],p["."]||p["#"]||p)||n.on.link(a,s)}var f=function(){},d})(t,"./map"),t(function(i){var n=t("./index");n.chain.set=function(c,l,f){var d=this,a=d.back(-1),s,h;return l=l||function(){},f=f||{},f.item=f.item||c,(s=((c||"")._||"")["#"])&&((c={})["#"]=s),typeof(h=n.valid(c))=="string"?d.get(s=h).put(c,l,f):n.is(c)?(d.put(function(g){c.get(function(j,p,v){if(!j)return l.call(d,{err:n.log('Only a node can be linked! Not "'+v.put+'"!')});(h={})[j]={"#":j},g(h)},!0)}),c):(Object.plain(c)&&(c=a.get(s=d.back("opt.uuid")()).put(c)),d.get(s||a.back("opt.uuid")(7)).put(c,l,f))}})(t,"./set"),t(function(i){t("./shim");var n=function(){},c=JSON.parseAsync||function(a,s,h){var g,j=+new Date;try{s(g,JSON.parse(a,h),l.sucks(+new Date-j))}catch(p){s(p)}},l=JSON.stringifyAsync||function(a,s,h,g){var j,p=+new Date;try{s(j,JSON.stringify(a,h,g),l.sucks(+new Date-p))}catch(v){s(v)}};l.sucks=function(a){a>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),l.sucks=n)};function f(a){var s=function(){},h=a.opt||{};h.log=h.log||console.log,h.gap=h.gap||h.wait||0,h.max=h.max||(h.memory?h.memory*999*999:3e8)*.3,h.pack=h.pack||h.max*.01*.01,h.puff=h.puff||9;var g=setTimeout.turn||setTimeout,j=a.dup,p=j.check,v=j.track,k=s.hear=function(u,y){if(u){if(h.max<=u.length)return s.say({dam:"!",err:"Message too big!"},y);s===this&&(k.d+=u.length||0,++k.c);var T=y.SH=+new Date,G=u[0],m;if(G==="["){c(u,function(x,D){if(x||!D)return s.say({dam:"!",err:"DAM JSON parse error."},y);console.STAT&&console.STAT(+new Date,D.length,"# on hear batch");var M=h.puff;(function A(){for(var _=+new Date,o=0,b;o<M&&(b=D[o++]);)s.hear(b,y);D=D.slice(o),console.STAT&&console.STAT(_,+new Date-_,"hear loop"),O(y),D.length&&g(A,0)})()}),u="";return}if(G==="{"||(u["#"]||Object.plain(u))&&(m=u)){if(m)return k.one(m,y,T);c(u,function(x,D){if(x||!D)return s.say({dam:"!",err:"DAM JSON parse error."},y);k.one(D,y,T)});return}}};k.one=function(u,y,A){var G,m,x,D,M;if(u.DBG&&(u.DBG=M={DBG:u.DBG}),M&&(M.h=A),M&&(M.hp=+new Date),(G=u["#"])||(G=u["#"]=String.random(9)),!(x=p(G))&&(m=u["##"],!(m&&(x=u["@"]||u.get&&G)&&j.check(D=x+m)))){if((u._=function(){}).via=s.leap=y,(x=u["><"])&&typeof x=="string"&&x.slice(0,99).split(",").forEach(function(_){this[_]=1},u._.yo={}),x=u.dam){(x=s.hear[x])&&x(u,y,a),v(G);return}(x=u.ok)&&(u._.near=x["/"]);var A=+new Date;M&&(M.is=A),y.SI=G,v.ed=function(_){G===_&&(v.ed=0,(_=j.s[G])&&(_.via=y,u.get&&(_.it=u)))},a.on("in",s.last=u),M&&(M.hd=+new Date),console.STAT&&console.STAT(A,+new Date-A,u.get?"msg get":u.put?"msg put":"msg"),v(G),D&&v(D),s.leap=s.last=null}},k.c=k.d=0,function(){var u=0,y;s.hash=function(m,x){var D,M,A,_=+new Date;l(m.put,function o(b,$){var C=(M||(M=A=$||"")).slice(0,32768);if(D=String.hash(C,D),M=M.slice(32768),M){g(o,0);return}console.STAT&&console.STAT(_,+new Date-_,"say json+hash"),m._.$put=A,m["##"]=D,s.say(m,x),delete m._.$put},T)};function T(m,x){var D;return x instanceof Object?(Object.keys(x).sort().forEach(G,{to:D={},on:x}),D):x}function G(m){this.to[m]=this.on[m]}s.say=function(m,x){var D;if((D=this)&&(D=D.to)&&D.next&&D.next(m),!m)return!1;var M,A,_,o=m["@"],b=m._||(m._=function(){}),$=m.DBG,C=+new Date;if(b.y=b.y||C,x||$&&($.y=C),(M=m["#"])||(M=m["#"]=String.random(9)),!y&&v(M),!(A=m["##"])&&d!==m.put&&!b.via&&o){s.hash(m,x);return}if(!x&&o&&(x=(D=j.s[o])&&(D.via||(D=D.it)&&(D=D._)&&D.via)||(D=s.last)&&o===D["#"]&&s.leap),!x&&o)return j.s[o]?void 0:(console.STAT&&console.STAT(+new Date,++u,"total no peer to ack to"),!1);if(o&&!m.put&&!A&&((j.s[o]||"").it||"")["##"])return!1;if(!x&&s.way)return s.way(m);if($&&($.yh=+new Date),!(_=b.raw)){s.raw(m,x);return}if($&&($.yr=+new Date),!x||!x.id){if(!Object.plain(x||h.peers))return!1;var C=+new Date;h.puff;var N=h.peers,S=Object.keys(x||h.peers||{});console.STAT&&console.STAT(C,+new Date-C,"peer keys"),function H(){var F=+new Date;y=1;var R=b.raw;b.raw=_;for(var U=0,Y;U<9&&(Y=(S||"")[U++]);)(Y=N[Y]||(x||"")[Y])&&s.say(m,Y);b.raw=R,y=0,S=S.slice(U),console.STAT&&console.STAT(F,+new Date-F,"say loop"),S.length&&(g(H,0),o&&v(o))}();return}if(!x.wire&&s.wire&&s.wire(x),M!==x.last){if(x.last=M,x===b.via||(D=b.yo)&&(D[x.url]||D[x.pid]||D[x.id]))return!1;if(console.STAT&&console.STAT(C,(($||b).yp=+new Date)-(b.y||C),"say prep"),!y&&o&&v(o),x.batch){if(x.tail=(D=x.tail||0)+_.length,x.tail<=h.pack){x.batch+=(D?",":"")+_;return}O(x)}x.batch="[";var E=+new Date;setTimeout(function(){console.STAT&&console.STAT(E,+new Date-E,"0ms TO"),O(x)},h.gap),w(_,x),console.STAT&&o===x.SI&&console.STAT(C,+new Date-x.SH,"say ack")}},s.say.c=s.say.d=0,s.raw=function(m,x){if(!m)return"";var D=m._||{},M,A;if(A=D.raw)return A;if(typeof m=="string")return m;var _=m["##"],o=m["@"];if(_&&o){if(!D.via&&p(o+_))return!1;if(A=(j.s[o]||"").it){if(_===A["##"])return!1;A["##"]||(A["##"]=_)}}if(!m.dam&&!m["@"]){var b=0,$=[];A=h.peers;for(var C in A){var N=A[C];if($.push(N.url||N.pid||N.id),++b>6)break}b>1&&(m["><"]=$.join())}if(m.put&&(A=m.ok)&&(m.ok={"@":(A["@"]||1)-1,"/":A["/"]==m._.near?s.near:A["/"]}),M=D.$put){A={},Object.keys(m).forEach(function(E){A[E]=m[E]}),A.put=":])([:",l(A,function(E,I){if(!E){var H=+new Date;A=I.indexOf('"put":":])([:"'),S(d,I=I.slice(0,A+6)+M+I.slice(A+14)),console.STAT&&console.STAT(H,+new Date-H,"say slice")}});return}l(m,S);function S(E,I){E||(D.raw=I,s.say(m,x))}}}();function O(u){var y=u.batch,T=typeof y=="string";if(T&&(y+="]"),u.batch=u.tail=null,!!y&&!(T?3>y.length:!y.length)){if(!T)try{y=y.length===1?y[0]:JSON.stringify(y)}catch(G){return h.log("DAM JSON stringify error",G)}y&&w(y,u)}}function w(u,y){try{var T=y.wire;y.say?y.say(u):T.send&&T.send(u),s.say.d+=u.length||0,++s.say.c}catch{(y.queue=y.queue||[]).push(u)}}return s.near=0,s.hi=function(u){var y=u.wire,T;if(!y){s.wire(u.length&&{url:u,id:u}||u);return}u.id?h.peers[u.url||u.id]=u:(T=u.id=u.id||u.url||String.random(9),s.say({dam:"?",pid:a.opt.pid},h.peers[T]=u),delete j.s[u.last]),u.met||(s.near++,u.met=+new Date,a.on("hi",u)),T=u.queue,u.queue=[],setTimeout.each(T||[],function(G){w(G,u)},0,9)},s.bye=function(u){u.met&&--s.near,delete u.met,a.on("bye",u);var y=+new Date;y=y-(u.met||y),s.bye.time=((s.bye.time||y)+y)/2},s.hear["!"]=function(u,y){h.log("Error:",u.err)},s.hear["?"]=function(u,y){u.pid&&(y.pid||(y.pid=u.pid),u["@"])||(s.say({dam:"?",pid:h.pid,"@":u["#"]},y),delete j.s[y.last])},s.hear.mob=function(u,y){if(u.peers){var T=Object.keys(u.peers),G=T[Math.random()*T.length>>0];G&&(s.bye(y),s.hi(G))}},a.on("create",function(u){u.opt.pid=u.opt.pid||String.random(9),this.to.next(u),u.on("out",s.say)}),a.on("bye",function(u,y){u=h.peers[u.id||u]||u,this.to.next(u),u.bye?u.bye():(y=u.wire)&&y.close&&y.close(),delete h.peers[u.id],u.wire=null}),a.on("bye",function(u,y){this.to.next(u),(y=console.STAT)&&(y.peers=s.near),(y=u.url)&&setTimeout(function(){},h.lack||9e3)}),a.on("hi",function(u,y){if(this.to.next(u),(y=console.STAT)&&(y.peers=s.near),!h.super){var T=Object.keys(a.next||"");T.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(T,function(G){var m=a.next[G];if(h.super||(m.ask||"")[""]){s.say({get:{"#":G}},u);return}setTimeout.each(Object.keys(m.ask||""),function(x){x&&s.say({"##":String.hash((a.graph[G]||"")[x]),get:{"#":G,".":x}},u)})})}}),s}var d;try{i.exports=f}catch{}})(t,"./mesh"),t(function(i){var n=t("./index");n.Mesh=t("./mesh"),n.on("opt",function(l){if(this.to.next(l),l.once)return;var f=l.opt;if(f.WebSocket===!1)return;var d=n.window||{},a=f.WebSocket||d.WebSocket||d.webkitWebSocket||d.mozWebSocket;if(!a)return;f.WebSocket=a;var s=f.mesh=f.mesh||n.Mesh(l);s.wire||f.wire,s.wire=f.wire=h;function h(v){try{if(!v||!v.url)return O&&O(v);var k=v.url.replace(/^http/,"ws"),O=v.wire=new f.WebSocket(k);return O.onclose=function(){j(v),f.mesh.bye(v)},O.onerror=function(w){j(v)},O.onopen=function(){f.mesh.hi(v)},O.onmessage=function(w){w&&f.mesh.hear(w.data||w,v)},O}catch{f.mesh.bye(v)}}setTimeout(function(){!f.super&&l.on("out",{dam:"hi"})},1);var g=2*999;function j(v){clearTimeout(v.defer),f.peers[v.url]&&(p&&v.retry<=0||(v.retry=(v.retry||f.retry+1||60)-(-v.tried+(v.tried=+new Date)<g*4?1:0),v.defer=setTimeout(function k(){if(p&&p.hidden)return setTimeout(k,g);h(v)},g)))}var p=""+c!=typeof document&&document});var c})(t,"./websocket"),t(function(i){if(!(typeof Gun>"u")){var n=function(){},c;try{c=(Gun.window||n).localStorage}catch{}c||(Gun.log("Warning: No localStorage exists to persist data to!"),c={setItem:function(f,d){this[f]=d},removeItem:function(f){delete this[f]},getItem:function(f){return this[f]}});var l=JSON.stringifyAsync||function(f,d,a,s){var h;try{d(h,JSON.stringify(f,a,s))}catch(g){d(g)}};Gun.on("create",function f(d){this.to.next(d);var a=d.opt;d.graph;var s=[],h,g,j,p;if(a.localStorage===!1)return;a.prefix=a.file||"gun/";try{h=f[a.prefix]=f[a.prefix]||JSON.parse(j=c.getItem(a.prefix))||{}}catch{h=f[a.prefix]={}}j=(j||"").length,d.on("get",function(k){this.to.next(k);var O=k.get,w,u,y,T;!O||!(w=O["#"])||(u=h[w]||T,u&&(y=O["."])&&!Object.plain(y)&&(u=Gun.state.ify({},y,Gun.state.is(u,y),u[y],w)),Gun.on.get.ack(k,u))}),d.on("put",function(k){this.to.next(k);var O=k.put,w=O["#"],u=O["."],y=k["#"],T=k.ok||"";if(h[w]=Gun.state.ify(h[w],u,O[">"],O[":"],w),p&&j>4999880){d.on("in",{"@":y,err:"localStorage max!"});return}!k["@"]&&(!k._.via||Math.random()<T["@"]/T["/"])&&s.push(y),!g&&(g=setTimeout(v,9+j/333))});function v(){if(!s.length&&((setTimeout.turn||"").s||"").length){setTimeout(v,99);return}var k=s;clearTimeout(g),g=!1,s=[],l(h,function(O,w){try{!O&&c.setItem(a.prefix,w)}catch(u){O=p=u||"localStorage failure"}O&&(Gun.log(O+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),d.on("localStorage:error",{err:O,get:a.prefix,put:h})),j=w.length,setTimeout.each(k,function(u){d.on("in",{"@":u,err:O,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var A;if(""+A!=typeof Gun){var t=function(_){console.warn("Warning! Deprecated internal utility will break in next version:",_)},e=Gun;e.fn=e.fn||{is:function(_){return t("fn"),!!_&&typeof _=="function"}},e.bi=e.bi||{is:function(_){return t("bi"),_ instanceof Boolean||typeof _=="boolean"}},e.num=e.num||{is:function(_){return t("num"),!i(_)&&(_-parseFloat(_)+1>=0||_===1/0||_===-1/0)}},e.text=e.text||{is:function(_){return t("text"),typeof _=="string"}},e.text.ify=e.text.ify||function(_){return t("text.ify"),e.text.is(_)?_:typeof JSON<"u"?JSON.stringify(_):_&&_.toString?_.toString():_},e.text.random=e.text.random||function(_,o){t("text.random");var b="";for(_=_||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";_>0;)b+=o.charAt(Math.floor(Math.random()*o.length)),_--;return b},e.text.match=e.text.match||function(_,o){var b,$;return t("text.match"),typeof _!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},b=o["="]||o["*"]||o[">"]||o["<"],_===b?!0:$!==o["="]?!1:(b=o["*"]||o[">"]||o["<"],_.slice(0,(b||"").length)===b?!0:$!==o["*"]?!1:$!==o[">"]&&$!==o["<"]?_>=o[">"]&&_<=o["<"]:$!==o[">"]&&_>=o[">"]||$!==o["<"]&&_<=o["<"]))},e.text.hash=e.text.hash||function(_,o){if(t("text.hash"),typeof _=="string"){if(o=o||0,!_.length)return o;for(var b=0,$=_.length,C;b<$;++b)C=_.charCodeAt(b),o=(o<<5)-o+C,o|=0;return o}},e.list=e.list||{is:function(_){return t("list"),_ instanceof Array}},e.list.slit=e.list.slit||Array.prototype.slice,e.list.sort=e.list.sort||function(_){return t("list.sort"),function(o,b){return!o||!b?0:(o=o[_],b=b[_],o<b?-1:o>b?1:0)}},e.list.map=e.list.map||function(_,o,b){return t("list.map"),D(_,o,b)},e.list.index=1,e.obj=e.boj||{is:function(_){return t("obj"),_?_ instanceof Object&&_.constructor===Object||Object.prototype.toString.call(_).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},e.obj.put=e.obj.put||function(_,o,b){return t("obj.put"),(_||{})[o]=b,_},e.obj.has=e.obj.has||function(_,o){return t("obj.has"),_&&Object.prototype.hasOwnProperty.call(_,o)},e.obj.del=e.obj.del||function(_,o){if(t("obj.del"),!!_)return _[o]=null,delete _[o],_},e.obj.as=e.obj.as||function(_,o,b,$){return t("obj.as"),_[o]=_[o]||($===b?{}:b)},e.obj.ify=e.obj.ify||function(_){if(t("obj.ify"),y(_))return _;try{_=JSON.parse(_)}catch{_={}}return _},function(){var _;function o(b,$){G(this,$)&&_!==this[$]||(this[$]=b)}e.obj.to=e.obj.to||function(b,$){return t("obj.to"),$=$||{},D(b,o,$),$}}(),e.obj.copy=e.obj.copy||function(_){return t("obj.copy"),_&&JSON.parse(JSON.stringify(_))},function(){function _(o,b){var $=this.n,C;if(!($&&(b===$||y($)&&G($,b)))&&C!==b)return!0}e.obj.empty=e.obj.empty||function(o,b){return t("obj.empty"),o?!D(o,_,{n:b}):!0}}(),function(){function _($,C){if(arguments.length===2){_.r=_.r||{},_.r[$]=C;return}_.r=_.r||[],_.r.push($)}var o=Object.keys,b;Object.keys=Object.keys||function($){return b($,function(C,N,S){S(N)})},e.obj.map=b=e.obj.map||function($,C,N){t("obj.map");var S,E=0,I,H,F,R,U=typeof C=="function";if(_.r=S,o&&y($)&&(F=o($),R=!0),N=N||{},i($)||F)for(I=(F||$).length;E<I;E++){var Y=E+e.list.index;if(U){if(H=R?C.call(N,$[F[E]],F[E],_):C.call(N,$[E],Y,_),H!==S)return H}else if(C===$[R?F[E]:E])return F?F[E]:Y}else for(E in $)if(U){if(G($,E)&&(H=N?C.call(N,$[E],E,_):C($[E],E,_),H!==S))return H}else if(C===$[E])return E;return U?_.r:e.list.index?0:-1}}(),e.time=e.time||{},e.time.is=e.time.is||function(_){return t("time"),_?_ instanceof Date:+new Date().getTime()};var w=e.fn.is,i=e.list.is,u=e.obj,y=u.is,G=u.has,D=u.map,n={};n.is=function(_){return t("val.is"),_===A?!1:_===null?!0:_===1/0?!1:f(_)||l(_)||p(_)?!0:n.link.is(_)||!1},n.link=n.rel={_:"#"},function(){n.link.is=function(o){if(t("val.link.is"),o&&o[c]&&!o._&&y(o)){var b={};if(D(o,_,b),b.id)return b.id}return!1};function _(o,b){var $=this;if($.id)return $.id=!1;if(b==c&&f(o))$.id=o;else return $.id=!1}}(),n.link.ify=function(_){return t("val.link.ify"),x({},c,_)},e.obj.has._=".";var c=n.link._,A,l=e.bi.is,p=e.num.is,f=e.text.is,u=e.obj,y=u.is,x=u.put,D=u.map;e.val=e.val||n;var d={_:"_"};d.soul=function(_,o){return t("node.soul"),_&&_._&&_._[o||h]},d.soul.ify=function(_,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},_=_||{},_._=_._||{},_._[h]=o.soul||_._[h]||s(),_},d.soul._=n.link._,function(){d.is=function(o,b,$){t("node.is");var C;return y(o)&&(C=d.soul(o))?!D(o,_,{as:$,cb:b,s:C,n:o}):!1};function _(o,b){if(b!==d._){if(!n.is(o))return!0;this.cb&&this.cb.call(this.as,o,b,this.n,this.s)}}}(),function(){d.ify=function(o,b,$){return t("node.ify"),b?typeof b=="string"?b={soul:b}:typeof b=="function"&&(b={map:b}):b={},b.map&&(b.node=b.map.call($,o,A,b.node||{})),(b.node=d.soul.ify(b.node||{},b))&&D(o,_,{o:b,as:$}),b.node};function _(o,b){var $=this.o,C,N;if($.map){C=$.map.call(this.as,o,""+b,$.node),N===C?T($.node,b):$.node&&($.node[b]=C);return}n.is(o)&&($.node[b]=o)}}();var u=e.obj,y=u.is,T=u.del,D=u.map,a=e.text,s=a.random,h=d.soul._,A;e.node=e.node||d;var g=e.state;g.lex=function(){return t("state.lex"),g().toString(36).replace(".","")},g.to=function(_,o,b){t("state.to");var $=(_||{})[o];return y($)&&($=M($)),g.ify(b,o,g.is(_,o),$,d.soul(_))},function(){g.map=function(o,b,$){t("state.map");var C,N=y(N=o||b)?N:null;return o=w(o=o||b)?o:null,N&&!o?(b=p(b)?b:g(),N[k]=N[k]||{},D(N,_,{o:N,s:b}),N):($=$||y(b)?b:C,b=p(b)?b:g(),function(S,E,I,H){if(!o)return _.call({o:I,s:b},S,E),S;o.call($||this||{},S,E,I,H),!(G(I,E)&&C===I[E])&&_.call({o:I,s:b},S,E)})};function _(o,b){k!==b&&g.ify(this.o,b,this.s)}}();var u=e.obj;u.as;var G=u.has,y=u.is,D=u.map,M=u.copy,j=e.num,p=j.is,v=e.fn,w=v.is,k=d._,A,O={};(function(){O.is=function(b,$,C,N){return t("graph.is"),!b||!y(b)||m(b)?!1:!D(b,_,{cb:$,fn:C,as:N})};function _(b,$){if(!b||$!==d.soul(b)||!d.is(b,this.fn,this.as))return!0;this.cb&&(o.n=b,o.as=this.as,this.cb.call(o.as,b,$,o))}function o(b){b&&d.is(o.n,b,o.as)}})(),function(){O.ify=function(N,S,E){t("graph.ify");var I={path:[],obj:N};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof E=="string"&&(S.soul=S.soul||E,E=A),S.soul&&(I.link=n.link.ify(S.soul)),S.shell=(E||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||E,_(S,I),S.root=I.node,S.graph};function _(N,S){var E;return(E=C(N,S))?E:(S.env=N,S.soul=b,d.ify(S.obj,o,S)&&(S.link=S.link||n.link.ify(d.soul(S.node)),S.obj!==N.shell&&(N.graph[n.link.is(S.link)]=S.node)),S)}function o(N,S,E){var I=this,H=I.env,F,R;if(d._===S&&G(N,n.link._))return E._;if(F=$(N,S,E,I,H)){if(S||(I.node=I.node||E||{},G(N,d._)&&d.soul(N)&&(I.node._=M(N._)),I.node=d.soul.ify(I.node,n.link.is(I.link)),I.link=I.link||n.link.ify(d.soul(I.node))),(R=H.map)&&(R.call(H.as||{},N,S,E,I),G(E,S))){if(N=E[S],A===N){T(E,S);return}if(!(F=$(N,S,E,I,H)))return}if(!S)return I.node;if(F===!0)return N;if(R=_(H,{obj:N,path:I.path.concat(S)}),!!R.node)return R.link}}function b(N){var S=this,E=n.link.is(S.link),I=S.env.graph;S.link=S.link||n.link.ify(N),S.link[n.link._]=N,S.node&&S.node[d._]&&(S.node[d._][n.link._]=N),G(I,E)&&(I[N]=I[E],T(I,E))}function $(N,S,E,I,H){var F;if(n.is(N))return!0;if(y(N))return 1;if(F=H.invalid)return N=F.call(H.as||{},N,S,E),$(N,S,E,I,H);H.err="Invalid value at '"+I.path.concat(S).join(".")+"'!",e.list.is(N)&&(H.err+=" Use `.set(item)` instead of an Array.")}function C(N,S){for(var E=N.seen,I=E.length,H;I--;)if(H=E[I],S.obj===H.obj)return H;E.push(S)}}(),O.node=function(_){t("graph.node");var o=d.soul(_);if(o)return x({},o,_)},function(){O.to=function(o,b,$){if(t("graph.to"),!!o){var C={};return $=$||{seen:{}},D(o[b],_,{obj:C,graph:o,opt:$}),C}};function _(o,b){var $,C;if(d._===b){if(m(o,n.link._))return;this.obj[b]=M(o);return}if(!($=n.link.is(o))){this.obj[b]=o;return}if(C=this.opt.seen[$]){this.obj[b]=C;return}this.obj[b]=this.opt.seen[$]=O.to(this.graph,$,this.opt)}}();var w=e.fn.is,u=e.obj,y=u.is,T=u.del,G=u.has,m=u.empty,x=u.put,D=u.map,M=u.copy,A;e.graph=e.graph||O}}()})(qt);var un=qt.exports,fn=un;const an=rn(fn),pt=[];function ln(r,t=Z){let e;const i=new Set;function n(f){if(dt(r,f)&&(r=f,e)){const d=!pt.length;for(const a of i)a[1](),pt.push(a,r);if(d){for(let a=0;a<pt.length;a+=2)pt[a][0](pt[a+1]);pt.length=0}}}function c(f){n(f(r))}function l(f,d=Z){const a=[f,d];return i.add(a),i.size===1&&(e=t(n,c)||Z),f(r),()=>{i.delete(a),i.size===0&&e&&(e(),e=null)}}return{set:n,update:c,subscribe:l}}const cn=an({peers:["wss://gun-manhattan.herokuapp.com/gun"]}),ve=cn.get("cards"),Bt=document.createElement("a"),Ct=document.createElement("input");Ct.type="file";Ct.accept=".json";Ct.onchange=async r=>{var e;if(!r||!r.target)return;const t=(e=r.target.files)==null?void 0:e[0];if(t){const i=await t.text();Jt(JSON.parse(i))}};const wt=ln([]),Jt=r=>{ve.put({data:JSON.stringify(r)})};ve.on(r=>{wt.set(JSON.parse(r.data))});const sn=()=>{Bt.href=URL.createObjectURL(new Blob([JSON.stringify($e(wt))],{type:"application/json"})),Bt.download="cards.json",Bt.click()},dn=()=>{Ct.click()};function re(r,t,e){const i=r.slice();return i[17]=t[e],i}function ie(r,t,e){const i=r.slice();return i[14]=t[e],i}function oe(r,t,e){const i=r.slice();return i[14]=t[e],i}function ue(r,t,e){const i=r.slice();return i[14]=t[e],i}function hn(r){let t,e,i,n=rt(ne(r[1])),c=[];for(let f=0;f<n.length;f+=1)c[f]=le(re(r,n,f));const l=f=>W(c[f],1,1,()=>{c[f]=null});return{c(){t=z("div"),e=z("section");for(let f=0;f<c.length;f+=1)c[f].c();B(e,"class","print")},m(f,d){J(f,t,d),L(t,e);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null);r[12](e),i=!0},p(f,d){if(d&2){n=rt(ne(f[1]));let a;for(a=0;a<n.length;a+=1){const s=re(f,n,a);c[a]?(c[a].p(s,d),q(c[a],1)):(c[a]=le(s),c[a].c(),q(c[a],1),c[a].m(e,null))}for(ct(),a=n.length;a<c.length;a+=1)l(a);st()}},i(f){if(!i){for(let d=0;d<n.length;d+=1)q(c[d]);i=!0}},o(f){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)W(c[d]);i=!1},d(f){f&&P(t),Tt(c,f),r[12](null)}}}function pn(r){let t,e,i,n,c,l,f,d,a,s,h,g,j,p,v,k,O,w,u=r[4].length+"",y,T,G,m;i=new Nt({props:{cardType:r[0],names:["None","Movement","Mystery","Curse","Starter","Board","Change","Deck"],noPassive:!0}}),i.$on("type",r[6]),c=new at({props:{colour:"blue",$$slots:{default:[_n]},$$scope:{ctx:r}}}),c.$on("click",r[7]),f=new at({props:{colour:"blue",$$slots:{default:[yn]},$$scope:{ctx:r}}}),f.$on("click",r[8]),a=new at({props:{$$slots:{default:[vn]},$$scope:{ctx:r}}}),a.$on("click",r[9]),h=new at({props:{$$slots:{default:[bn]},$$scope:{ctx:r}}}),h.$on("click",dn),j=new at({props:{$$slots:{default:[gn]},$$scope:{ctx:r}}}),j.$on("click",sn),v=new at({props:{$$slots:{default:[kn]},$$scope:{ctx:r}}}),v.$on("click",r[10]);let x=rt(r[4]),D=[];for(let A=0;A<x.length;A+=1)D[A]=ce(ue(r,x,A));const M=A=>W(D[A],1,1,()=>{D[A]=null});return{c(){t=z("section"),e=z("div"),X(i.$$.fragment),n=K(),X(c.$$.fragment),l=K(),X(f.$$.fragment),d=K(),X(a.$$.fragment),s=K(),X(h.$$.fragment),g=K(),X(j.$$.fragment),p=K(),X(v.$$.fragment),k=K(),O=z("h1"),w=et("cards "),y=et(u),T=K(),G=z("section");for(let A=0;A<D.length;A+=1)D[A].c();B(e,"class","select-wrapper svelte-c8b4af"),tt(e,"background-color",r[5]),B(t,"class","button-container svelte-c8b4af"),B(G,"class","container svelte-c8b4af")},m(A,_){J(A,t,_),L(t,e),V(i,e,null),L(t,n),V(c,t,null),L(t,l),V(f,t,null),L(t,d),V(a,t,null),L(t,s),V(h,t,null),L(t,g),V(j,t,null),L(t,p),V(v,t,null),J(A,k,_),J(A,O,_),L(O,w),L(O,y),J(A,T,_),J(A,G,_);for(let o=0;o<D.length;o+=1)D[o]&&D[o].m(G,null);m=!0},p(A,_){const o={};_&1&&(o.cardType=A[0]),i.$set(o),(!m||_&32)&&tt(e,"background-color",A[5]);const b={};_&16777216&&(b.$$scope={dirty:_,ctx:A}),c.$set(b);const $={};_&16777216&&($.$$scope={dirty:_,ctx:A}),f.$set($);const C={};_&16777216&&(C.$$scope={dirty:_,ctx:A}),a.$set(C);const N={};_&16777216&&(N.$$scope={dirty:_,ctx:A}),h.$set(N);const S={};_&16777216&&(S.$$scope={dirty:_,ctx:A}),j.$set(S);const E={};if(_&16777216&&(E.$$scope={dirty:_,ctx:A}),v.$set(E),(!m||_&16)&&u!==(u=A[4].length+"")&&Ae(y,u),_&18){x=rt(A[4]);let I;for(I=0;I<x.length;I+=1){const H=ue(A,x,I);D[I]?(D[I].p(H,_),q(D[I],1)):(D[I]=ce(H),D[I].c(),q(D[I],1),D[I].m(G,null))}for(ct(),I=x.length;I<D.length;I+=1)M(I);st()}},i(A){if(!m){q(i.$$.fragment,A),q(c.$$.fragment,A),q(f.$$.fragment,A),q(a.$$.fragment,A),q(h.$$.fragment,A),q(j.$$.fragment,A),q(v.$$.fragment,A);for(let _=0;_<x.length;_+=1)q(D[_]);m=!0}},o(A){W(i.$$.fragment,A),W(c.$$.fragment,A),W(f.$$.fragment,A),W(a.$$.fragment,A),W(h.$$.fragment,A),W(j.$$.fragment,A),W(v.$$.fragment,A),D=D.filter(Boolean);for(let _=0;_<D.length;_+=1)W(D[_]);m=!1},d(A){A&&(P(t),P(k),P(O),P(T),P(G)),Q(i),Q(c),Q(f),Q(a),Q(h),Q(j),Q(v),Tt(D,A)}}}function fe(r){let t,e;return t=new Ft({props:{card:r[14]}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&2&&(c.card=i[14]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function ae(r){let t,e;return t=new Ft({props:{card:r[14],back:!0}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&2&&(c.card=i[14]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function le(r){let t,e,i,n,c,l=rt(r[17]),f=[];for(let g=0;g<l.length;g+=1)f[g]=fe(oe(r,l,g));const d=g=>W(f[g],1,1,()=>{f[g]=null});let a=rt(r[17]),s=[];for(let g=0;g<a.length;g+=1)s[g]=ae(ie(r,a,g));const h=g=>W(s[g],1,1,()=>{s[g]=null});return{c(){t=z("div");for(let g=0;g<f.length;g+=1)f[g].c();e=K(),i=z("div");for(let g=0;g<s.length;g+=1)s[g].c();n=K(),B(t,"class","page svelte-c8b4af"),B(i,"class","page svelte-c8b4af")},m(g,j){J(g,t,j);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(t,null);J(g,e,j),J(g,i,j);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(i,null);L(i,n),c=!0},p(g,j){if(j&2){l=rt(g[17]);let p;for(p=0;p<l.length;p+=1){const v=oe(g,l,p);f[p]?(f[p].p(v,j),q(f[p],1)):(f[p]=fe(v),f[p].c(),q(f[p],1),f[p].m(t,null))}for(ct(),p=l.length;p<f.length;p+=1)d(p);st()}if(j&2){a=rt(g[17]);let p;for(p=0;p<a.length;p+=1){const v=ie(g,a,p);s[p]?(s[p].p(v,j),q(s[p],1)):(s[p]=ae(v),s[p].c(),q(s[p],1),s[p].m(i,n))}for(ct(),p=a.length;p<s.length;p+=1)h(p);st()}},i(g){if(!c){for(let j=0;j<l.length;j+=1)q(f[j]);for(let j=0;j<a.length;j+=1)q(s[j]);c=!0}},o(g){f=f.filter(Boolean);for(let j=0;j<f.length;j+=1)W(f[j]);s=s.filter(Boolean);for(let j=0;j<s.length;j+=1)W(s[j]);c=!1},d(g){g&&(P(t),P(e),P(i)),Tt(f,g),Tt(s,g)}}}function _n(r){let t;return{c(){t=et("add two sided")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function yn(r){let t;return{c(){t=et("add one sided")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function vn(r){let t;return{c(){t=et("save")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function bn(r){let t;return{c(){t=et("import JSON")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function gn(r){let t;return{c(){t=et("export JSON")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function kn(r){let t;return{c(){t=et("Download")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function mn(r){let t;return{c(){t=et("remove")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function ce(r){let t,e,i,n,c,l;e=new Ft({props:{card:r[14],readable:!0}});function f(){return r[11](r[14])}return n=new at({props:{colour:"red",$$slots:{default:[mn]},$$scope:{ctx:r}}}),n.$on("click",f),{c(){t=z("div"),X(e.$$.fragment),i=K(),X(n.$$.fragment),c=K(),B(t,"class","wrapper svelte-c8b4af")},m(d,a){J(d,t,a),V(e,t,null),L(t,i),V(n,t,null),L(t,c),l=!0},p(d,a){r=d;const s={};a&16&&(s.card=r[14]),e.$set(s);const h={};a&16777216&&(h.$$scope={dirty:a,ctx:r}),n.$set(h)},i(d){l||(q(e.$$.fragment,d),q(n.$$.fragment,d),l=!0)},o(d){W(e.$$.fragment,d),W(n.$$.fragment,d),l=!1},d(d){d&&P(t),Q(e),Q(n)}}}function $n(r){let t,e,i,n;const c=[pn,hn],l=[];function f(d,a){return d[3]?1:0}return t=f(r),e=l[t]=c[t](r),{c(){e.c(),i=Et()},m(d,a){l[t].m(d,a),J(d,i,a),n=!0},p(d,[a]){let s=t;t=f(d),t===s?l[t].p(d,a):(ct(),W(l[s],1,1,()=>{l[s]=null}),st(),e=l[t],e?e.p(d,a):(e=l[t]=c[t](d),e.c()),q(e,1),e.m(i.parentNode,i))},i(d){n||(q(e),n=!0)},o(d){W(e),n=!1},d(d){d&&P(i),l[t].d(d)}}}function wn(r,t,e){let i,n,c;we(r,wt,O=>e(1,c=O));let l,f,d="None";const a=(O,w)=>w==="None"?O:O.filter(u=>u.cardHalf1.cardType.type===w||u.cardHalf2&&u.cardHalf2.cardType.type===w);Ge(()=>{const O=new URLSearchParams(window.location.search);e(3,f=!!O.get("download"))});const s=({detail:O})=>e(0,d=O),h=()=>{wt.set([...c,Kt(2)])},g=()=>{wt.set([...c,Kt(1)]),console.log(c.length)},j=()=>{Jt(c)},p=()=>{const O=document.createElement("a");O.href=`${window.location.href}?download=true`,O.click()},v=O=>{Jt(c.filter(w=>w.id!==O.id))};function k(O){Ht[O?"unshift":"push"](()=>{l=O,e(2,l)})}return r.$$.update=()=>{r.$$.dirty&1&&e(5,i=vt(d)),r.$$.dirty&3&&e(4,n=a(c,d))},[d,c,l,f,n,i,s,h,g,j,p,v,k]}class Tn extends kt{constructor(t){super(),gt(this,t,wn,$n,dt,{})}}new Tn({target:document.getElementById("app")});
