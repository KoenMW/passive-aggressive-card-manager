var be=Object.defineProperty;var ge=(r,t,e)=>t in r?be(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var It=(r,t,e)=>ge(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=e(n);fetch(n.href,c)}})();function Z(){}function ke(r,t){for(const e in t)r[e]=t[e];return r}function se(r){return r()}function zt(){return Object.create(null)}function Ot(r){r.forEach(se)}function he(r){return typeof r=="function"}function ht(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let xt;function it(r,t){return r===t?!0:(xt||(xt=document.createElement("a")),xt.href=t,r===xt.href)}function me(r){return Object.keys(r).length===0}function de(r,...t){if(r==null){for(const i of t)i(void 0);return Z}const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function $e(r){let t;return de(r,e=>t=e)(),t}function we(r,t,e){r.$$.on_destroy.push(de(t,e))}function Te(r,t,e,i){if(r){const n=pe(r,t,e,i);return r[0](n)}}function pe(r,t,e,i){return r[1]&&i?ke(e.ctx.slice(),r[1](i(t))):e.ctx}function je(r,t,e,i){if(r[2]&&i){const n=r[2](i(e));if(t.dirty===void 0)return n;if(typeof n=="object"){const c=[],s=Math.max(t.dirty.length,n.length);for(let f=0;f<s;f+=1)c[f]=t.dirty[f]|n[f];return c}return t.dirty|n}return t.dirty}function Se(r,t,e,i,n,c){if(n){const s=pe(t,e,i,c);r.p(s,n)}}function Oe(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let i=0;i<e;i++)t[i]=-1;return t}return-1}function Ut(r){return r??""}function L(r,t){r.appendChild(t)}function J(r,t,e){r.insertBefore(t,e||null)}function P(r){r.parentNode&&r.parentNode.removeChild(r)}function Tt(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function z(r){return document.createElement(r)}function et(r){return document.createTextNode(r)}function K(){return et(" ")}function Et(){return et("")}function bt(r,t,e,i){return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e,i)}function B(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function De(r){return Array.from(r.childNodes)}function Ae(r,t){t=""+t,r.data!==t&&(r.data=t)}function tt(r,t,e,i){e==null?r.style.removeProperty(t):r.style.setProperty(t,e,"")}function xe(r,t,{bubbles:e=!1,cancelable:i=!1}={}){return new CustomEvent(r,{detail:t,bubbles:e,cancelable:i})}let jt;function $t(r){jt=r}function _e(){if(!jt)throw new Error("Function called outside component initialization");return jt}function Ge(r){_e().$$.on_mount.push(r)}function Ne(){const r=_e();return(t,e,{cancelable:i=!1}={})=>{const n=r.$$.callbacks[t];if(n){const c=xe(t,e,{cancelable:i});return n.slice().forEach(s=>{s.call(r,c)}),!c.defaultPrevented}return!0}}function Ee(r,t){const e=r.$$.callbacks[t.type];e&&e.slice().forEach(i=>i.call(this,t))}const _t=[],Ht=[];let yt=[];const Lt=[],Ce=Promise.resolve();let Pt=!1;function Ie(){Pt||(Pt=!0,Ce.then(ye))}function St(r){yt.push(r)}const Mt=new Set;let dt=0;function ye(){if(dt!==0)return;const r=jt;do{try{for(;dt<_t.length;){const t=_t[dt];dt++,$t(t),Me(t.$$)}}catch(t){throw _t.length=0,dt=0,t}for($t(null),_t.length=0,dt=0;Ht.length;)Ht.pop()();for(let t=0;t<yt.length;t+=1){const e=yt[t];Mt.has(e)||(Mt.add(e),e())}yt.length=0}while(_t.length);for(;Lt.length;)Lt.pop()();Pt=!1,Mt.clear(),$t(r)}function Me(r){if(r.fragment!==null){r.update(),Ot(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(St)}}function Be(r){const t=[],e=[];yt.forEach(i=>r.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),yt=t}const Gt=new Set;let lt;function ct(){lt={r:0,c:[],p:lt}}function st(){lt.r||Ot(lt.c),lt=lt.p}function q(r,t){r&&r.i&&(Gt.delete(r),r.i(t))}function W(r,t,e,i){if(r&&r.o){if(Gt.has(r))return;Gt.add(r),lt.c.push(()=>{Gt.delete(r),i&&(e&&r.d(1),i())}),r.o(t)}else i&&i()}function rt(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function X(r){r&&r.c()}function V(r,t,e){const{fragment:i,after_update:n}=r.$$;i&&i.m(t,e),St(()=>{const c=r.$$.on_mount.map(se).filter(he);r.$$.on_destroy?r.$$.on_destroy.push(...c):Ot(c),r.$$.on_mount=[]}),n.forEach(St)}function Q(r,t){const e=r.$$;e.fragment!==null&&(Be(e.after_update),Ot(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function He(r,t){r.$$.dirty[0]===-1&&(_t.push(r),Ie(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function gt(r,t,e,i,n,c,s=null,f=[-1]){const h=jt;$t(r);const a=r.$$={fragment:null,ctx:[],props:c,update:Z,not_equal:n,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:zt(),dirty:f,skip_bound:!1,root:t.target||h.$$.root};s&&s(a.root);let l=!1;if(a.ctx=e?e(r,t.props||{},(_,g,...j)=>{const d=j.length?j[0]:g;return a.ctx&&n(a.ctx[_],a.ctx[_]=d)&&(!a.skip_bound&&a.bound[_]&&a.bound[_](d),l&&He(r,_)),g}):[],a.update(),l=!0,Ot(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const _=De(t.target);a.fragment&&a.fragment.l(_),_.forEach(P)}else a.fragment&&a.fragment.c();t.intro&&q(r.$$.fragment),V(r,t.target,t.anchor),ye()}$t(h)}class kt{constructor(){It(this,"$$");It(this,"$$set")}$destroy(){Q(this,1),this.$destroy=Z}$on(t,e){if(!he(e))return Z;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const n=i.indexOf(e);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Pe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pe);function Je(r){let t,e,i,n,c;const s=r[2].default,f=Te(s,r,r[1],null);return{c(){t=z("button"),f&&f.c(),B(t,"class",e="button "+r[0]+" svelte-zqnkwt")},m(h,a){J(h,t,a),f&&f.m(t,null),i=!0,n||(c=bt(t,"click",r[3]),n=!0)},p(h,[a]){f&&f.p&&(!i||a&2)&&Se(f,s,h,h[1],i?je(s,h[1],a,null):Oe(h[1]),null),(!i||a&1&&e!==(e="button "+h[0]+" svelte-zqnkwt"))&&B(t,"class",e)},i(h){i||(q(f,h),i=!0)},o(h){W(f,h),i=!1},d(h){h&&P(t),f&&f.d(h),n=!1,c()}}}function Fe(r,t,e){let{$$slots:i={},$$scope:n}=t,{colour:c="green"}=t;function s(f){Ee.call(this,r,f)}return r.$$set=f=>{"colour"in f&&e(0,c=f.colour),"$$scope"in f&&e(1,n=f.$$scope)},[c,n,i,s]}class at extends kt{constructor(t){super(),gt(this,t,Fe,Je,ht,{colour:0})}}const vt=r=>{switch(r){case"Curse":return"#DC77FF";case"Deck":return"#8995D5";case"Movement":return"#FDFF84";case"Change":return"#FFA944";case"Mystery":return"#F35555";case"Board":return"#88F355";case"Starter":return"#AFE2EA";default:return"#FFFFFF"}},ot=r=>window.location.href.includes("localhost")?`${window.location.href}/${r}.svg`:`${r}.svg`,Kt=r=>{const t=Math.random().toString(36);return r===1?{id:t,cardHalf1:{cardType:{passive:!1,type:"Mystery"},text:"placeholder"},cardHalf2:void 0}:{id:t,cardHalf1:{cardType:{passive:!0,type:"Deck"},text:"placeholder"},cardHalf2:{cardType:{passive:!1,type:"Movement"},text:"placeholder"}}};function qe(r){let t,e,i;return{c(){t=z("div"),B(t,"contenteditable","true"),B(t,"class","cardText svelte-13kvtzw"),r[0].text===void 0&&St(()=>r[4].call(t))},m(n,c){J(n,t,c),r[0].text!==void 0&&(t.innerText=r[0].text),e||(i=bt(t,"input",r[4]),e=!0)},p(n,c){c&1&&n[0].text!==t.innerText&&(t.innerText=n[0].text)},d(n){n&&P(t),e=!1,i()}}}function Re(r){let t,e,i,n,c=r[0].cardType.passive&&Vt();return{c(){t=z("img"),i=K(),c&&c.c(),n=Et(),it(t.src,e=ot(r[0].cardType.type))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class","cardIcon svelte-13kvtzw")},m(s,f){J(s,t,f),J(s,i,f),c&&c.m(s,f),J(s,n,f)},p(s,f){f&1&&!it(t.src,e=ot(s[0].cardType.type))&&B(t,"src",e),s[0].cardType.passive?c||(c=Vt(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(s){s&&(P(t),P(i),P(n)),c&&c.d(s)}}}function Vt(r){let t;return{c(){t=z("p"),t.textContent="Passive",B(t,"class","mirrored svelte-13kvtzw")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function We(r){let t,e;function i(s,f){return s[2]?Re:qe}let n=i(r),c=n(r);return{c(){t=z("div"),e=z("div"),c.c(),B(e,"class","card svelte-13kvtzw"),tt(e,"--colour",r[3]),B(t,"class","wrapper svelte-13kvtzw"),tt(t,"--rotation",r[1]+"deg")},m(s,f){J(s,t,f),L(t,e),c.m(e,null)},p(s,[f]){n===(n=i(s))&&c?c.p(s,f):(c.d(1),c=n(s),c&&(c.c(),c.m(e,null))),f&8&&tt(e,"--colour",s[3]),f&2&&tt(t,"--rotation",s[1]+"deg")},i:Z,o:Z,d(s){s&&P(t),c.d()}}}function ze(r,t,e){let i,{card:n}=t,{rotation:c=0}=t,{back:s=!1}=t;function f(){n.text=this.innerText,e(0,n)}return r.$$set=h=>{"card"in h&&e(0,n=h.card),"rotation"in h&&e(1,c=h.rotation),"back"in h&&e(2,s=h.back)},r.$$.update=()=>{r.$$.dirty&1&&e(3,i=vt(n.cardType.type))},[n,c,s,i,f]}class Qt extends kt{constructor(t){super(),gt(this,t,ze,We,ht,{card:0,rotation:1,back:2})}}function Xt(r,t,e){const i=r.slice();return i[12]=t[e],i}function Yt(r){let t,e,i,n,c,s,f,h,a=r[5]&&Zt(r),l=!r[3]&&ee(r);return{c(){t=z("div"),e=z("img"),n=K(),a&&a.c(),c=K(),l&&l.c(),s=Et(),it(e.src,i=ot(r[0]))||B(e,"src",i),B(e,"alt","My Icon"),B(e,"class","cardIcon svelte-lm5vvd"),B(t,"class","select svelte-lm5vvd")},m(_,g){J(_,t,g),L(t,e),L(t,n),a&&a.m(t,null),J(_,c,g),l&&l.m(_,g),J(_,s,g),f||(h=bt(e,"click",r[8]),f=!0)},p(_,g){g&1&&!it(e.src,i=ot(_[0]))&&B(e,"src",i),_[5]?a?a.p(_,g):(a=Zt(_),a.c(),a.m(t,null)):a&&(a.d(1),a=null),_[3]?l&&(l.d(1),l=null):l?l.p(_,g):(l=ee(_),l.c(),l.m(s.parentNode,s))},d(_){_&&(P(t),P(c),P(s)),a&&a.d(),l&&l.d(_),f=!1,h()}}}function Zt(r){let t,e=rt(r[4]),i=[];for(let n=0;n<e.length;n+=1)i[n]=te(Xt(r,e,n));return{c(){t=z("div");for(let n=0;n<i.length;n+=1)i[n].c();B(t,"class","options svelte-lm5vvd"),tt(t,"--colour",r[6])},m(n,c){J(n,t,c);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(t,null)},p(n,c){if(c&49){e=rt(n[4]);let s;for(s=0;s<e.length;s+=1){const f=Xt(n,e,s);i[s]?i[s].p(f,c):(i[s]=te(f),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=e.length}c&64&&tt(t,"--colour",n[6])},d(n){n&&P(t),Tt(i,n)}}}function te(r){let t,e,i,n,c;function s(){return r[9](r[12])}return{c(){t=z("img"),it(t.src,e=ot(r[12]))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class",i="cardIcon "+(r[0]===r[12]?"hidden":"")+" svelte-lm5vvd")},m(f,h){J(f,t,h),n||(c=bt(t,"click",s),n=!0)},p(f,h){r=f,h&16&&!it(t.src,e=ot(r[12]))&&B(t,"src",e),h&17&&i!==(i="cardIcon "+(r[0]===r[12]?"hidden":"")+" svelte-lm5vvd")&&B(t,"class",i)},d(f){f&&P(t),n=!1,c()}}}function ee(r){let t,e,i,n,c,s,f;return{c(){t=z("input"),e=K(),i=z("label"),n=et("Passive"),B(t,"type","checkbox"),B(t,"id",r[7]),B(t,"class","hidden"),B(i,"for",r[7]),B(i,"class",c="passive no-select "+(r[1]?"":"invisible")+" svelte-lm5vvd")},m(h,a){J(h,t,a),t.checked=r[1],J(h,e,a),J(h,i,a),L(i,n),s||(f=bt(t,"change",r[10]),s=!0)},p(h,a){a&2&&(t.checked=h[1]),a&2&&c!==(c="passive no-select "+(h[1]?"":"invisible")+" svelte-lm5vvd")&&B(i,"class",c)},d(h){h&&(P(t),P(e),P(i)),s=!1,f()}}}function Ue(r){let t,e=!r[2]&&Yt(r);return{c(){e&&e.c(),t=Et()},m(i,n){e&&e.m(i,n),J(i,t,n)},p(i,[n]){i[2]?e&&(e.d(1),e=null):e?e.p(i,n):(e=Yt(i),e.c(),e.m(t.parentNode,t))},i:Z,o:Z,d(i){i&&P(t),e&&e.d(i)}}}function Le(r,t,e){let i,{cardType:n}=t,{passive:c=!1}=t,{back:s=!1}=t,{noPassive:f=!1}=t;const h=Math.random().toString(36).substring(7),a=Ne();let l=!1,{names:_=["Board","Change","Deck","Movement","Mystery","Curse","Starter"]}=t;const g=()=>e(5,l=!l),j=v=>{e(0,n=v),e(5,l=!1)};function d(){c=this.checked,e(1,c)}return r.$$set=v=>{"cardType"in v&&e(0,n=v.cardType),"passive"in v&&e(1,c=v.passive),"back"in v&&e(2,s=v.back),"noPassive"in v&&e(3,f=v.noPassive),"names"in v&&e(4,_=v.names)},r.$$.update=()=>{r.$$.dirty&1&&e(6,i=vt(n)),r.$$.dirty&1&&a("type",n),r.$$.dirty&2&&a("passive",c)},[n,c,s,f,_,l,i,h,g,j,d]}class Nt extends kt{constructor(t){super(),gt(this,t,Le,Ue,ht,{cardType:0,passive:1,back:2,noPassive:3,names:4})}}function Ke(r){let t,e;return{c(){t=z("img"),it(t.src,e=ot(r[0].cardType.type))||B(t,"src",e),B(t,"alt","My Icon"),B(t,"class","cardIcon svelte-15hk4fg")},m(i,n){J(i,t,n)},p(i,n){n&1&&!it(t.src,e=ot(i[0].cardType.type))&&B(t,"src",e)},i:Z,o:Z,d(i){i&&P(t)}}}function Ve(r){let t,e,i,n,c,s,f;return e=new Nt({props:{cardType:r[0].cardType.type,passive:r[0].cardType.passive,names:["Mystery","Curse","Starter"]}}),e.$on("type",r[2]),{c(){t=z("p"),X(e.$$.fragment),i=K(),n=z("div"),B(t,"class","svelte-15hk4fg"),B(n,"contenteditable","true"),B(n,"class","cardText svelte-15hk4fg"),r[0].text===void 0&&St(()=>r[3].call(n))},m(h,a){J(h,t,a),V(e,t,null),J(h,i,a),J(h,n,a),r[0].text!==void 0&&(n.innerText=r[0].text),c=!0,s||(f=bt(n,"input",r[3]),s=!0)},p(h,a){const l={};a&1&&(l.cardType=h[0].cardType.type),a&1&&(l.passive=h[0].cardType.passive),e.$set(l),a&1&&h[0].text!==n.innerText&&(n.innerText=h[0].text)},i(h){c||(q(e.$$.fragment,h),c=!0)},o(h){W(e.$$.fragment,h),c=!1},d(h){h&&(P(t),P(i),P(n)),Q(e),s=!1,f()}}}function Qe(r){let t,e,i,n;const c=[Ve,Ke],s=[];function f(h,a){return h[1]?1:0}return e=f(r),i=s[e]=c[e](r),{c(){t=z("div"),i.c(),B(t,"class","card svelte-15hk4fg"),tt(t,"--colour",vt(r[0].cardType.type))},m(h,a){J(h,t,a),s[e].m(t,null),n=!0},p(h,[a]){let l=e;e=f(h),e===l?s[e].p(h,a):(ct(),W(s[l],1,1,()=>{s[l]=null}),st(),i=s[e],i?i.p(h,a):(i=s[e]=c[e](h),i.c()),q(i,1),i.m(t,null)),(!n||a&1)&&tt(t,"--colour",vt(h[0].cardType.type))},i(h){n||(q(i),n=!0)},o(h){W(i),n=!1},d(h){h&&P(t),s[e].d()}}}function Xe(r,t,e){let{card:i}=t,{back:n=!1}=t;const c=({detail:f})=>e(0,i.cardType.type=f,i);function s(){i.text=this.innerText,e(0,i)}return r.$$set=f=>{"card"in f&&e(0,i=f.card),"back"in f&&e(1,n=f.back)},[i,n,c,s]}class Ye extends kt{constructor(t){super(),gt(this,t,Xe,Qe,ht,{card:0,back:1})}}function Ze(r){let t,e;return t=new Ye({props:{card:r[0].cardHalf1,back:r[1]}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&1&&(c.card=i[0].cardHalf1),n&2&&(c.back=i[1]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function tn(r){let t,e,i,n,c,s,f,h,a,l,_,g,j,d;return i=new Nt({props:{cardType:r[0].cardHalf1.cardType.type,passive:r[0].cardHalf1.cardType.passive,back:r[1]}}),i.$on("type",r[3]),i.$on("passive",r[4]),c=new Qt({props:{card:r[0].cardHalf1,back:r[1]}}),h=new Qt({props:{card:r[0].cardHalf2,rotation:180,back:r[1]}}),_=new Nt({props:{cardType:r[0].cardHalf2.cardType.type,passive:r[0].cardHalf2.cardType.passive,back:r[1]}}),_.$on("type",r[5]),_.$on("passive",r[6]),{c(){t=z("div"),e=z("p"),X(i.$$.fragment),n=K(),X(c.$$.fragment),s=K(),f=z("div"),X(h.$$.fragment),a=K(),l=z("p"),X(_.$$.fragment),g=K(),j=z("div"),B(e,"class","first svelte-1ubeuca"),B(t,"class","first-half half"),B(l,"class","second svelte-1ubeuca"),B(f,"class","second-half half svelte-1ubeuca"),B(j,"class","fill svelte-1ubeuca")},m(v,k){J(v,t,k),L(t,e),V(i,e,null),L(t,n),V(c,t,null),J(v,s,k),J(v,f,k),V(h,f,null),L(f,a),L(f,l),V(_,l,null),J(v,g,k),J(v,j,k),d=!0},p(v,k){const O={};k&1&&(O.cardType=v[0].cardHalf1.cardType.type),k&1&&(O.passive=v[0].cardHalf1.cardType.passive),k&2&&(O.back=v[1]),i.$set(O);const w={};k&1&&(w.card=v[0].cardHalf1),k&2&&(w.back=v[1]),c.$set(w);const u={};k&1&&(u.card=v[0].cardHalf2),k&2&&(u.back=v[1]),h.$set(u);const y={};k&1&&(y.cardType=v[0].cardHalf2.cardType.type),k&1&&(y.passive=v[0].cardHalf2.cardType.passive),k&2&&(y.back=v[1]),_.$set(y)},i(v){d||(q(i.$$.fragment,v),q(c.$$.fragment,v),q(h.$$.fragment,v),q(_.$$.fragment,v),d=!0)},o(v){W(i.$$.fragment,v),W(c.$$.fragment,v),W(h.$$.fragment,v),W(_.$$.fragment,v),d=!1},d(v){v&&(P(t),P(s),P(f),P(g),P(j)),Q(i),Q(c),Q(h),Q(_)}}}function en(r){let t,e,i,n,c;const s=[tn,Ze],f=[];function h(a,l){return a[0].cardHalf2?0:1}return e=h(r),i=f[e]=s[e](r),{c(){t=z("div"),i.c(),B(t,"class",n=Ut(`card ${r[1]&&"back"}`)+" svelte-1ubeuca"),tt(t,"--colour",r[2])},m(a,l){J(a,t,l),f[e].m(t,null),c=!0},p(a,[l]){let _=e;e=h(a),e===_?f[e].p(a,l):(ct(),W(f[_],1,1,()=>{f[_]=null}),st(),i=f[e],i?i.p(a,l):(i=f[e]=s[e](a),i.c()),q(i,1),i.m(t,null)),(!c||l&2&&n!==(n=Ut(`card ${a[1]&&"back"}`)+" svelte-1ubeuca"))&&B(t,"class",n),(!c||l&4)&&tt(t,"--colour",a[2])},i(a){c||(q(i),c=!0)},o(a){W(i),c=!1},d(a){a&&P(t),f[e].d()}}}function nn(r,t,e){let i,{card:n}=t,{back:c=!1}=t;const s=({detail:l})=>e(0,n.cardHalf1.cardType.type=l,n),f=({detail:l})=>e(0,n.cardHalf1.cardType.passive=l,n),h=({detail:l})=>{n.cardHalf2&&e(0,n.cardHalf2.cardType.type=l,n)},a=({detail:l})=>{n.cardHalf2&&e(0,n.cardHalf2.cardType.passive=l,n)};return r.$$set=l=>{"card"in l&&e(0,n=l.card),"back"in l&&e(1,c=l.back)},r.$$.update=()=>{r.$$.dirty&1&&e(2,i=vt(n.cardHalf1.cardType.type))},[n,c,i,s,f,h,a]}class Ft extends kt{constructor(t){super(),gt(this,t,nn,en,ht,{card:0,back:1})}}const ne=(r,t=9)=>{const e=[];let i=0;for(;i<r.length;)e.push(r.slice(i,t+i)),i+=t;return e};function rn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function on(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qt={exports:{}};qt.exports;(function(r){(function(){function t(i,n){return n?on(i):i.slice?t[c(i)]:function(s,f){i(s={exports:{}}),t[c(f)]=s.exports};function c(s){return s.split("/").slice(-1).toString().replace(".js","")}}var e=r;t(function(i){String.random=function(c,s){var f="";for(c=c||24,s=s||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";c-- >0;)f+=s.charAt(Math.floor(Math.random()*s.length));return f},String.match=function(c,s){var f,h;return typeof c!="string"?!1:(typeof s=="string"&&(s={"=":s}),s=s||{},f=s["="]||s["*"]||s[">"]||s["<"],c===f?!0:h!==s["="]?!1:(f=s["*"]||s[">"],c.slice(0,(f||"").length)===f?!0:h!==s["*"]?!1:h!==s[">"]&&h!==s["<"]?c>=s[">"]&&c<=s["<"]:h!==s[">"]&&c>=s[">"]||h!==s["<"]&&c<=s["<"]))},String.hash=function(c,s){if(typeof c=="string"){if(s=s||0,!c.length)return s;for(var f=0,h=c.length,a;f<h;++f)a=c.charCodeAt(f),s=(s<<5)-s+a,s|=0;return s}};var n=Object.prototype.hasOwnProperty;Object.plain=function(c){return c?c instanceof Object&&c.constructor===Object||Object.prototype.toString.call(c).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(c,s){for(var f in c)if(n.call(c,f)&&(!s||s.indexOf(f)==-1))return!1;return!0},Object.keys=Object.keys||function(c){var s=[];for(var f in c)n.call(c,f)&&s.push(f);return s},function(){var c,s=setTimeout,f=0,h=0,a=typeof setImmediate!=""+c&&setImmediate||function(_,g){return typeof MessageChannel==""+c?s:((_=new MessageChannel).port1.onmessage=function(j){j.data==""&&g()},function(j){g=j,_.port2.postMessage("")})}(),l=s.check=s.check||typeof performance!=""+c&&performance||{now:function(){return+new Date}};s.hold=s.hold||9,s.poll=s.poll||function(_){if(s.hold>=l.now()-f&&h++<3333){_();return}a(function(){f=l.now(),_()},h=0)}}(),function(){var c=setTimeout,s=c.turn=c.turn||function(g){f.push(g)==1&&h(_)},f=s.s=[],h=c.poll,a=0,l,_=function(){(l=f[a++])&&l(),(a==f.length||a==99)&&(f=s.s=f.slice(a),a=0),f.length&&h(_)}}(),function(){var c,s=setTimeout,f=s.turn;(s.each=s.each||function(h,a,l,_){_=_||9,function g(j,d,v){if(d=(j=(h||[]).splice(0,_)).length){for(var k=0;k<d&&c===(v=a(j[k]));k++);if(c===v){f(g);return}}l&&l(v)}()})()}()})(t,"./shim"),t(function(i){i.exports=function n(l,s,f){if(!l)return{to:n};var h,a=typeof s=="function",l=(this.tag||(this.tag={}))[l]||a&&(this.tag[l]={tag:l,to:n._={next:function(g){var j;(j=this.to)&&j.next(g)}}});if(a){var _={off:n.off||(n.off=function(){if(this.next===n._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=n._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:n._,next:s,the:l,on:this,as:f};return(_.back=l.last||l).to=_,l.last=_}return(l=l.to)&&h!==s&&l.next(s),l}})(t,"./onto"),t(function(i){i.exports=function(n){return n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"&&n!=1/0&&n!=-1/0&&n===n||!!n&&typeof n["#"]=="string"&&Object.keys(n).length===1&&n["#"]}})(t,"./valid"),t(function(i){t("./shim");function n(){var l=+new Date;return h<l?(s=0,h=l+n.drift):h=l+(s+=1)/f+n.drift}n.drift=0;var c=-1/0,s=0,f=999,h=c,a;n.is=function(l,_,g){var j=_&&l&&l._&&l._[">"]||g;if(j)return typeof(j=j[_])=="number"?j:c},n.ify=function(l,_,g,j,d){(l=l||{})._=l._||{},d&&(l._["#"]=d);var v=l._[">"]||(l._[">"]={});return a!==_&&_!=="_"&&(typeof g=="number"&&(v[_]=g),a!==j&&(l[_]=j)),l},i.exports=n})(t,"./state"),t(function(i){t("./shim");function n(c){var s={s:{}},f=s.s;c=c||{max:999,age:1e3*9},s.check=function(a){return f[a]?h(a):!1};var h=s.track=function(a){var l=f[a]||(f[a]={});return l.was=s.now=+new Date,s.to||(s.to=setTimeout(s.drop,c.age+9)),h.ed&&h.ed(a),l};return s.drop=function(a){s.to=null,s.now=+new Date;var l=Object.keys(f);console.STAT&&console.STAT(s.now,+new Date-s.now,"dup drop keys"),setTimeout.each(l,function(_){var g=f[_];g&&(a||c.age)>s.now-g.was||delete f[_]},0,99)},s}i.exports=n})(t,"./dup"),t(function(i){t("./onto"),i.exports=function(s,f){if(this.on){var h=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var l=s["#"]||s,a=(this.tag||"")[l];return a?(f&&(a=this.on(l,f),clearTimeout(a.err),a.err=setTimeout(function(){a.off()},h)),!0):void 0}var l=f&&f["#"]||n(9);if(!s)return l;var _=this.on(l,s,f);return _.err=_.err||setTimeout(function(){_.off(),_.next({err:"Error: No ACK yet.",lack:!0})},h),l}};var n=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(i){function n(d){return d instanceof n?(this._={$:this}).$:this instanceof n?n.create(this._={$:this,opt:d}):new n(d)}n.is=function(d){return d instanceof n||d&&d._&&d===d._.$||!1},n.version=.202,n.chain=n.prototype,n.chain.toJSON=function(){},t("./shim"),n.valid=t("./valid"),n.state=t("./state"),n.on=t("./onto"),n.dup=t("./dup"),n.ask=t("./ask"),function(){n.create=function(o){o.root=o.root||o,o.graph=o.graph||{},o.on=o.on||n.on,o.ask=o.ask||n.ask,o.dup=o.dup||n.dup();var b=o.$.opt(o.opt);return o.once||(o.on("in",d,o),o.on("out",d,o),o.on("put",O,o),n.on("create",o),o.on("create",o)),o.once=1,b};function d(o){if(o){if(o.out===d){this.to.next(o);return}var b=this,$=b.as,C=$.at||$,N=C.$,S=C.dup,E,I=o.DBG;if((E=o["#"])||(E=o["#"]=s(9)),!S.check(E)){if(S.track(E),E=o._,o._=typeof E=="function"?E:function(){},o.$&&o.$===(o.$._||"").$||(o.$=N),o["@"]&&!o.put&&u(o),!C.ask(o["@"],o))if(I&&(I.u=+new Date),o.put){v(o);return}else o.get&&n.on.get(o,N);I&&(I.uc=+new Date),b.to.next(o),I&&(I.ua=+new Date),!(o.nts||o.NTS)&&(o.out=d,C.on("out",o),I&&(I.ue=+new Date))}}}function v(o){if(o){var b=o._||"",$=b.root=((b.$=o.$||"")._||"").root;if(o["@"]&&b.faith&&!b.miss){o.out=d,$.on("out",o);return}b.latch=$.hatch,b.match=$.hatch=[];var C=o.put,N=b.DBG=o.DBG,S=+new Date;if(A=A||S,!(C["#"]&&C["."])){N&&(N.p=S),b["#"]=o["#"],b.msg=o,b.all=0,b.stun=1;var E=Object.keys(C);console.STAT&&console.STAT(S,((N||b).pk=+new Date)-S,"put sort");var I=0,H,F,R,U,Y,nt,mt;(function ut(Dt){if(H!=I){if(H=I,!(R=E[I])){console.STAT&&console.STAT(S,((N||b).pd=+new Date)-S,"put"),w(b);return}(U=C[R])?(mt=U._)?R!==mt["#"]?nt=T+G(R)+"soul not same.":(Y=mt[">"])||(nt=T+G(R)+"no state."):nt=T+G(R)+"no meta.":nt=T+G(R)+"no node.",F=Object.keys(U||{})}if(nt){o.err=b.err=nt,w(b);return}var Rt=0,ft;for(Dt=Dt||0;Dt++<9&&(ft=F[Rt++]);)if(ft!=="_"){var At=U[ft],Wt=Y[ft];if(_===Wt){nt=T+G(ft)+"on"+G(R)+"no state.";break}if(!h(At)){nt=T+G(ft)+"on"+G(R)+"bad "+typeof At+G(At);break}k(At,ft,R,Wt,o),++M}if((F=F.slice(Rt)).length){f(ut);return}++I,F=null,ut(Dt)})()}}}n.on.put=v;function k(o,b,$,C,N){var S=N._||"",E=S.root,I=E.graph,H,F=I[$]||g,R=a(F,b,1),U=F[b],Y=S.DBG;(H=console.STAT)&&(!I[$]||!U)&&(H.has=(H.has||0)+1);var nt=D();if(C>nt){setTimeout(function(){k(o,b,$,C,N)},(H=C-nt)>x?x:H),console.STAT&&console.STAT((Y||S).Hf=+new Date,H,"future");return}if(!(C<R)&&!(!S.faith&&C===R&&(o===U||m(o)<=m(U))&&!S.miss)){S.stun++;var mt=N["#"]+S.all++,ut={toString:function(){return mt},_:S};ut.toJSON=ut.toString,E.dup.track(ut)["#"]=N["#"],Y&&(Y.ph=Y.ph||+new Date),E.on("put",{"#":ut,"@":N["@"],put:{"#":$,".":b,":":o,">":C},ok:N.ok,_:S})}}function O(o){var b;(b=(o._||"").DBG)&&(b.pa=+new Date,b.pm=b.pm||+new Date);var $=this,C=$.as,N=C.graph,S=o._,E=o.put,I=E["#"],H=E["."],F=E[":"],R=E[">"];o["#"];var U;(U=S.msg)&&(U=U.put)&&(U=U[I])&&l(U,H,R,F,I),N[I]=l(N[I],H,R,F,I),(U=(C.next||"")[I])&&U.on("in",o),w(S),$.to.next(o)}function w(o,b){var $;if(!o.stop&&!(!o.err&&0<--o.stun)&&(o.stop=1,!!($=o.root))){var C=o.match;C.end=1,C===$.hatch&&(!(C=o.latch)||C.end?delete $.hatch:$.hatch=C),o.hatch&&o.hatch(),setTimeout.each(o.match,function(N){N&&N()}),!(!(b=o.msg)||o.err||b.err)&&(b.out=d,o.root.on("out",b),p())}}function u(o){var b=o["@"]||"",$;if(!($=b._)){var C=(C=o.$)&&(C=C._)&&(C=C.root)&&(C=C.dup);if(!(C=C.check(b)))return;o["@"]=C["#"]||o["@"];return}$.acks=($.acks||0)+1,($.err=o.err)&&(o["@"]=$["#"],w($)),$.ok=o.ok||$.ok,!$.stop&&!$.crack&&($.crack=$.match&&$.match.push(function(){y($)})),y($)}function y(o){!o||!o.root||o.stun||o.acks!==o.all||o.root.on("in",{"@":o["#"],err:o.err,ok:o.err?_:o.ok||{"":1}})}var T="Error: Invalid graph!",G=function(o){return" '"+(""+o).slice(0,9)+"...' "},m=JSON.stringify,x=2147483647,D=n.state,M=0,A,p=function(){M>999&&M/-(A-(A=+new Date))>1&&(n.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),p=function(){M=0})}}(),function(){n.on.get=function(v,k){var O=k._,w=v.get,u=w["#"],y=O.graph[u],T=w["."],G=O.next||(O.next={}),m=G[u],x=v._||{},D=x.DBG=v.DBG;if(D&&(D.g=+new Date),!y)return O.on("get",v);if(T){if((typeof T!="string"||_===y[T])&&!((m||"").next||"")[T]){O.on("get",v);return}y=l({},T,a(y,T),y[T],u)}y&&d(v,y),O.on("get",v)};function d(v,k){var O=+new Date,w=v._||{},u=w.DBG=v.DBG,y=v["#"],T=s(9),G=Object.keys(k||"").sort(),m=((k||"")._||"")["#"];G.length;var x=v.$._.root,D=k===x.graph[m];console.STAT&&console.STAT(O,((u||w).gk=+new Date)-O,"got keys"),k&&function M(){O=+new Date;for(var A=0,p,o={},b;A<9&&(p=G[A++]);)l(o,p,a(k,p),k[p],m);G=G.slice(A),(b={})[m]=o,o=b;var $;D&&($=function(){},$.ram=$.faith=!0),b=G.length,console.STAT&&console.STAT(O,-(O-(O=+new Date)),"got copied some"),u&&(u.ga=+new Date),x.on("in",{"@":y,"#":T,put:o,"%":b?T=s(9):_,$:x.$,_:$,DBG:u,FOO:1}),console.STAT&&console.STAT(O,+new Date-O,"got in"),b&&setTimeout.turn(M)}(),k||x.on("in",{"@":v["#"]})}n.on.get.ack=d}(),function(){n.chain.opt=function(d){d=d||{};var v=this,k=v._,O=d.peers||d;return Object.plain(d)||(d={}),Object.plain(k.opt)||(k.opt=d),typeof O=="string"&&(O=[O]),Object.plain(k.opt.peers)||(k.opt.peers={}),O instanceof Array&&(d.peers={},O.forEach(function(w){var u={};u.id=u.url=w,d.peers[w]=k.opt.peers[w]=k.opt.peers[w]||u})),c(d,function w(u){var y=this[u];if(this&&this.hasOwnProperty(u)||typeof y=="string"||Object.empty(y)){this[u]=y;return}y&&y.constructor!==Object&&!(y instanceof Array)||c(y,w)}),k.opt.from=d,n.on("opt",k),k.opt.uuid=k.opt.uuid||function(u){return n.state().toString(36).replace(".","")+String.random(u||12)},v}}();var c=function(d,v){Object.keys(d).forEach(v,d)},s=String.random,f=setTimeout.turn,h=n.valid,a=n.state.is,l=n.state.ify,_,g={},j;n.log=function(){return!n.log.off&&j.log.apply(j,arguments),[].slice.call(arguments).join(" ")},n.log.once=function(d,v,k){return(k=n.log.once)[d]=k[d]||0,k[d]++||n.log(v)},typeof window<"u"&&((window.GUN=window.Gun=n).window=window);try{typeof e<"u"&&(e.exports=n)}catch{}i.exports=n,(n.window||{}).console=(n.window||{}).console||{log:function(){}},(j=console).only=function(d,v){return j.only.i&&d===j.only.i&&j.only.i++&&(j.log.apply(j,arguments)||v)},n.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(i){var n=t("./root");n.chain.back=function(f,h){var a;if(f=f||1,f===-1||f===1/0)return this._.root.$;if(f===1)return(this._.back||this._).$;var l=this,_=l._;if(typeof f=="string"&&(f=f.split(".")),f instanceof Array){var g=0,j=f.length,a=_;for(g;g<j;g++)a=(a||c)[f[g]];return s!==a?h?l:a:(a=_.back)?a.$.back(f,h):void 0}if(typeof f=="function"){for(var d,a={back:_};(a=a.back)&&s===(d=f(a,h)););return d}return typeof f=="number"?(_.back||_).$.back(f-1):this};var c={},s})(t,"./back"),t(function(i){var n=t("./root");n.chain.chain=function(w){var u=this,y=u._,T=new(w||u).constructor(u),G=T._,m;return G.root=m=y.root,G.id=++m.once,G.back=u._,G.on=n.on,G.on("in",n.on.in,G),G.on("out",n.on.out,G),T};function c(w){var u,y=this.as,T=y.back,G=y.root,m;if(w.$||(w.$=y.$),this.to.next(w),y.err){y.on("in",{put:y.put=_,$:y.$});return}if(u=w.get){if(G.pass&&(G.pass[y.id]=y),y.lex&&Object.keys(y.lex).forEach(function(x){m[x]=y.lex[x]},m=w.get=w.get||{}),u["#"]||y.soul){if(u["#"]=u["#"]||y.soul,w["#"]||(w["#"]=g(9)),T=G.$.get(u["#"])._,u=u["."]){if(d(T.put,u)&&(m=T.ask&&T.ask[u],(T.ask||(T.ask={}))[u]=T.$.get(u)._,T.on("in",{get:u,put:{"#":T.soul,".":u,":":T.put[u],">":k(G.graph[T.soul],u)}}),m))return}else{if(m=T.ask&&T.ask[""],(T.ask||(T.ask={}))[""]=T,_!==T.put&&(T.on("in",T),m))return;w.$=T.$}return G.ask(a,w),G.on("in",w)}if(u["."])return y.get?(w={get:{".":y.get},$:y.$},(T.ask||(T.ask={}))[y.get]=w.$._,T.on("out",w)):(w={get:y.lex?w.get:{},$:y.$},T.on("out",w));if((y.ask||(y.ask={}))[""]=y,y.get)return u["."]=y.get,(T.ask||(T.ask={}))[y.get]=w.$._,T.on("out",w)}return T.on("out",w)}n.on.out=c;function s(w,u){u=u||this.as;var y=u.root,T=w.$||(w.$=u.$),G=(T||"")._||l,m=w.put||"",x=m["#"],D=m["."],M=_!==m["="]?m["="]:m[":"],A=m[">"]||-1/0,p;if(_!==w.put&&(_===m["#"]||_===m["."]||_===m[":"]&&_===m["="]||_===m[">"])){if(!j(m)){if(!(x=((m||"")._||"")["#"])){console.log("chain not yet supported for",m,"...",w,u);return}return T=u.root.$.get(x),setTimeout.each(Object.keys(m).sort(),function(o){o=="_"||_===(A=k(m,o))||u.on("in",{$:T,put:{"#":x,".":o,"=":m[o],">":A},VIA:w})})}u.on("in",{$:G.back.$,put:{"#":x=G.back.soul,".":D=G.has||G.get,"=":m,">":k(G.back.put,D)},via:w});return}(w.seen||"")[u.id]||((w.seen||(w.seen=function(){}))[u.id]=u,u!==G&&(Object.keys(w).forEach(function(o){m[o]=w[o]},m={}),m.get=u.get||m.get,!u.soul&&!u.has?m.$$$=m.$$$||u.$:G.soul&&(m.$=u.$,m.$$=m.$$||G.$),w=m),h(w,u),(u.soul||w.$$)&&A>=k(y.graph[x],D)&&((m=y.$.get(x)._).put=O(m.put,D,A,M,x)),!G.soul&&A>=k(y.graph[x],D)&&(p=(y.$.get(x)._.next||"")[D])&&(p.put=M,typeof(m=j(M))=="string"&&(p.put=y.$.get(m)._.put||M)),this.to&&this.to.next(w),u.any&&setTimeout.each(Object.keys(u.any),function(o){(o=u.any[o])&&o(w)},0,99),u.echo&&setTimeout.each(Object.keys(u.echo),function(o){(o=u.echo[o])&&o.on("in",w)},0,99),((w.$$||"")._||G).soul&&(p=u.next)&&(p=p[D])&&(m={},Object.keys(w).forEach(function(o){m[o]=w[o]}),m.$=(w.$$||w.$).get(m.get=D),delete m.$$,delete m.$$$,p.on("in",m)),f(w,u))}n.on.in=s;function f(w,u){if(u=u||this.as||w.$._,!(w.$$&&this!==n.on)&&!(!w.put||u.soul)){var y=w.put||"",T=y["="]||y[":"],D,G=u.root,m=G.$.get(y["#"]).get(y["."])._;if(typeof(T=j(T))!="string"){this===n.on&&((m.echo||(m.echo={}))[u.id]=u);return}if(!((m.echo||(m.echo={}))[u.id]&&!(G.pass||"")[u.id])){if(D=G.pass){if(D[T+u.id])return;D[T+u.id]=1}(m.echo||(m.echo={}))[u.id]=u,u.has&&(u.link=T);var x=G.$.get(m.link=T)._;(x.echo||(x.echo={}))[m.id]=m;var D=u.ask||"";(D[""]||u.lex)&&x.on("out",{get:{"#":T}}),setTimeout.each(Object.keys(D),function(M,A){!M||!(A=D[M])||A.on("out",{get:{"#":T,".":M}})},0,99)}}}n.on.link=f;function h(w,u){var y=w.put||"",T=_!==y["="]?y["="]:y[":"],G=u.root,m,x;if(_===T){if(u.soul&&_!==u.put||(x=(w.$$||w.$||"")._||"",w["@"]&&(_!==x.put||_!==u.put)))return;(m=u.link||w.linked)&&delete(G.$.get(m)._.echo||"")[u.id],u.has&&(u.link=null),u.put=_,setTimeout.each(Object.keys(u.next||""),function(D,M){(M=u.next[D])&&(m&&delete(G.$.get(m).get(D)._.echo||"")[M.id],M.on("in",{get:D,put:_,$:M.$}))},0,99);return}u.soul||w.$$||(m=j(T),x=w.$._||"",!((m===x.link||u.has&&!x.link)&&!((G.pass||"")[u.id]&&typeof m!="string"))&&(delete(x.echo||"")[u.id],h({get:u.get,put:_,$:w.$,linked:w.linked=w.linked||x.link},u)))}n.on.unlink=h;function a(w,u){var y=this.as,T=y.$._;T.root;var G=y.get||"",m=(w.put||"")[G["#"]]||"";if(!w.put||typeof G["."]=="string"&&_===m[G["."]]){if(_!==T.put||!T.soul&&!T.has)return;T.ack=(T.ack||0)+1,T.on("in",{get:T.get,put:T.put=_,$:T.$,"@":w["@"]});return}(w._||{}).miss=1,n.on.put(w)}var l={},_,g=String.random,j=n.valid,d=function(w,u){return w&&Object.prototype.hasOwnProperty.call(w,u)},v=n.state,k=v.is,O=v.ify})(t,"./chain"),t(function(i){var n=t("./root");n.chain.get=function(_,g,j){var d,v;if(typeof _=="string"){if(_.length==0)return(d=this.chain())._.err={err:n.log("0 length key!",_)},g&&g.call(d,d._.err),d;var k=this,O=k._,w=O.next||h;(d=w[_])||(d=_&&c(_,k)),d=d&&d.$}else if(typeof _=="function"){let D=function(M,A,p){if(!D.stun&&!((S=y.pass)&&!S[T])){var o=M.$._,b=(M.$$||"")._,$=(b||o).put,C=!o.has&&!o.soul,N={},S;if((C||l===$)&&($=l===((S=M.put)||"")["="]?l===(S||"")[":"]?S:S[":"]:S["="]),typeof(S=n.valid($))=="string"&&($=l===(S=y.$.get(S)._.put)?u.not?l:$:S),!(u.not&&l===$)){if(l===u.stun){if((S=y.stun)&&S.on&&(O.$.back(function(E){if(S.on(""+E.id,N={}),(N.run||0)<D.id)return N}),!N.run&&S.on(""+o.id,N={}),!N.run&&b&&S.on(""+b.id,N={}),D.id>N.run&&((!N.stun||N.stun.end)&&(N.stun=S.on("stun"),N.stun=N.stun&&N.stun.last),N.stun&&!N.stun.end))){(N.stun.add||(N.stun.add={}))[T]=function(){D(M,A,1)};return}if(l===$&&(p=0),(S=y.hatch)&&!S.end&&l===u.hatch&&!p){if(G[o.$._.id])return;G[o.$._.id]=1,S.push(function(){D(M,A,1)});return}G={}}if(y.pass){if(y.pass[T+o.id])return;y.pass[T+o.id]=1}if(u.on){u.ok.call(o.$,$,o.get,M,A||D);return}if(u.v2020){u.ok(M,A||D);return}Object.keys(M).forEach(function(E){S[E]=M[E]},S={}),M=S,M.put=$,u.ok.call(u.as,M,A||D)}}};var m=D;if(g===!0)return s(this,_,g,j),this;d=this;var O=d._,u=g||{},y=O.root,T;u.at=O,u.ok=_;var G={};return D.at=O,(O.any||(O.any={}))[T=String.random(7)]=D,D.off=function(){D.stun=1,O.any&&delete O.any[T]},D.rid=f,D.id=u.run||++y.once,v=y.pass,(y.pass={})[T]=1,u.out=u.out||{get:{}},O.on("out",u.out),y.pass=v,d}else{if(typeof _=="number")return this.get(""+_,g,j);if(typeof(v=a(_))=="string")return this.get(v,g,j);(v=this.get.next)&&(d=v(this,_))}return d?(g&&typeof g=="function"&&d.get(g,j),d):((d=this.chain())._.err={err:n.log("Invalid get request!",_)},g&&g.call(d,d._.err),d)};function c(_,g){var j=g._,d=j.next,v=g.chain(),k=v._;return d||(d=j.next={}),d[k.get=_]=k,g===j.root.$?k.soul=_:(j.soul||j.has)&&(k.has=_),k}function s(_,g,j,d){var v=_._,k=0,O;return(O=v.soul||v.link)?g(O,d,v):v.jam?v.jam.push([g,d]):(v.jam=[[g,d]],_.get(function(u,y){if(!(l===u.put&&!v.root.opt.super&&(O=Object.keys(v.root.opt.peers).length)&&++k<=O)){y.rid(u);var T=(T=u.$)&&T._||{},G=0,m;for(O=v.jam,delete v.jam;m=O[G++];){var x=m[0];m=m[1],x&&x(T.link||T.soul||n.valid(u.put)||((u.put||{})._||{})["#"],m,u,y)}}},{out:{get:{".":!0}}}),_)}function f(_){var g=this.at||this.on;if(!_||g.soul||g.has)return this.off();if(_=(_=(_=_.$||_)._||_).id){g.map;var j;if((j=this.seen||(this.seen={}))[_])return!0;j[_]=!0}}var h={},a=n.valid,l})(t,"./get"),t(function(i){var n=t("./root");n.chain.put=function(d,v,k){var O=this,w=O._,u=w.root;k=k||{},k.root=w.root,k.run||(k.run=u.once),c(k,w.id),k.ack=k.ack||v,k.via=k.via||O,k.data=k.data||d,k.soul||(k.soul=w.soul||typeof v=="string"&&v);var y=k.state=k.state||n.state();return typeof d=="function"?(d(function(T){k.data=T,O.put(a,a,k)}),O):k.soul?(k.$=u.$.get(k.soul),k.todo=[{it:k.data,ref:k.$}],k.turn=k.turn||_,k.ran=k.ran||s,function T(){var G=k.todo,m=G.pop(),x=m.it;m.ref&&m.ref._.id;var D,M,A,p,o;if(c(k,m.ref),(p=m.todo)&&(M=p.pop(),x=x[M],p.length&&G.push(m)),M&&(G.path||(G.path=[])).push(M),!(D=g(x))&&!(o=n.is(x))){if(!Object.plain(x)){s.err(k,"Invalid data: "+h(x)+" at "+(k.via.back(function(S){S.get&&p.push(S.get)},p=[])||p.join("."))+"."+(G.path||[]).join("."));return}for(var b=k.seen||(k.seen=[]),$=b.length;$--;)if(x===(p=b[$]).it){D=x=p.link;break}}if(M&&D)m.node=j(m.node,M,y,x);else{let S=function(E,I){var H=A.link["#"];I&&(I.off(),I.rid(E));var F=H||E.soul||(p=(E.$$||E.$)._||"").soul||p.link||((p=p.put||"")._||"")["#"]||p["#"]||((p=E.put||"")&&E.$$?p["#"]:(p["="]||p[":"]||"")["#"]);if(!H&&c(k,E.$),!F&&!m.link["#"]){(m.wait||(m.wait=[])).push(function(){S(E,I)});return}F||(F=[],(E.$$||E.$).back(function(R){if(p=R.soul||R.link)return F.push(p);F.push(R.get)}),F=F.reverse().join("/")),A.link["#"]=F,!o&&(((k.graph||(k.graph={}))[F]=A.node||(A.node={_:{}}))._["#"]=F),delete k.wait[C],A.wait&&setTimeout.each(A.wait,function(R){R&&R()}),k.ran(k)};var N=S;if(!k.seen){s.err(k,"Data at root of graph must be a node (an object).");return}k.seen.push(A={it:x,link:{},todo:o?[]:Object.keys(x).sort().reverse(),path:(G.path||[]).slice(),up:m}),m.node=j(m.node,M,y,A.link),!o&&A.todo.length&&G.push(A);var C=k.seen.length;(k.wait||(k.wait={}))[C]="",p=(A.ref=o?x:M?m.ref.get(M):m.ref)._,(p=x&&(x._||"")["#"]||p.soul||p.link)?S({soul:p}):A.ref.get(S,{run:k.run,v2020:1,out:{get:{".":" "}}})}if(!G.length)return k.ran(k);k.turn(T)}(),O):(f(k),O)};function c(d,v){if(v){v=(v._||"").id||v;var k=d.root.stun||(d.root.stun={on:n.on}),O={},w;d.stun||(d.stun=k.on("stun",function(){})),(w=k.on(""+v))&&w.the.last.next(O),!(O.run>=d.run)&&k.on(""+v,function(u){if(d.stun.end){this.off(),this.to.next(u);return}u.run=u.run||d.run,u.stun=u.stun||d.stun})}}function s(d){if(d.err){s.end(d.stun,d.root);return}if(!(d.todo.length||d.end||!Object.empty(d.wait))){d.end=1;var v=d.$.back(-1)._,k=v.root,O=v.ask(function(T){k.on("ack",T),T.err&&!T.lack&&n.log(T),++w>(d.acks||0)&&this.off(),d.ack&&d.ack(T,this)},d.opt),w=0,u=d.stun,y;(y=function(){u&&(s.end(u,k),setTimeout.each(Object.keys(u=u.add||""),function(T){(T=u[T])&&T()}))}).hatch=y,d.ack&&!d.ok&&(d.ok=d.acks||9),d.via._.on("out",{put:d.out=d.graph,ok:d.ok&&{"@":d.ok+1},opt:d.opt,"#":O,_:y})}}s.end=function(d,v){d.end=l,d.the.to===d&&d===d.the.last&&delete v.stun,d.off()},s.err=function(d,v){(d.ack||l).call(d,d.out={err:d.err=n.log(v)}),d.ran(d)};function f(d){var v=d.via._,k;d.via=d.via.back(function(O){if(O.soul||!O.get)return O.$;k=d.data,(d.data={})[O.get]=k}),(!d.via||!d.via._.soul)&&(d.via=v.root.$.get(((d.data||"")._||"")["#"]||v.$.back("opt.uuid")())),d.via.put(d.data,d.ack,d)}function h(d,v){return d&&(v=d.constructor)&&v.name||typeof d}var a,l=function(){},_=setTimeout.turn,g=n.valid,j=n.state.ify})(t,"./put"),t(function(i){var n=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),i.exports=n})(t,"./index"),t(function(i){var n=t("./index");n.chain.on=function(f,h,a,l){var _=this,g=_._;g.root;var j;if(typeof f=="string")return h?(j=g.on(f,h,a||g,l),a&&a.$&&(a.subs||(a.subs=[])).push(j),_):g.on(f);var d=h;return(d=d===!0?{change:!0}:d||{}).not=1,d.on=1,_.get(f,d),_},n.chain.once=function(f,h){if(h=h||{},!f)return c(this);var a=this,l=a._,_=l.root;l.put;var g=String.random(7),j;return a.get(function(d,v,k,O){var w=this,u=w._,y=u.one||(u.one={});if(O.stun||y[g]==="")return;if((j=n.valid(d))===!0){T();return}if(typeof j=="string")return;clearTimeout((l.one||"")[g]),clearTimeout(y[g]),y[g]=setTimeout(T,h.wait||99);function T(G){if(!u.has&&!u.soul&&(u={put:d,get:v}),s===(j=u.put)&&(j=((k.$$||"")._||"").put),typeof n.valid(j)=="string"&&(j=_.$.get(j)._.put,j===s&&!G)){y[g]=setTimeout(function(){T(1)},h.wait||99);return}O.stun||y[g]!==""&&(y[g]="",(l.soul||l.has)&&O.off(),f.call(w,j,u.get),clearTimeout(y[g]))}},{on:1}),a};function c(f,h,a){return n.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(a=f.chain())._.nix=f.once(function(l,_){a._.on("in",this._)}),a._.lex=f._.lex,a}n.chain.off=function(){var f=this,h=f._,a,l=h.back;if(l)return h.ack=0,(a=l.next)&&a[h.get]&&delete a[h.get],(a=l.any)&&(delete l.any,l.any={}),(a=l.ask)&&delete a[h.get],(a=l.put)&&delete a[h.get],(a=h.soul)&&delete l.root.graph[a],(a=h.map)&&Object.keys(a).forEach(function(_,g){g=a[_],g.link&&l.root.$.get(g.link).off()}),(a=h.next)&&Object.keys(a).forEach(function(_,g){g=a[_],g.$.off()}),h.on("off",{}),f};var s})(t,"./on"),t(function(i){var n=t("./index"),c=n.chain.get.next;n.chain.get.next=function(a,l){var _;return Object.plain(l)?(_=((_=l["#"])||"")["="]||_)?a.get(_):((_=a.chain()._).lex=l,a.on("in",function(g){String.match(g.get||(g.put||"")["."],l["."]||l["#"]||l)&&_.on("in",g),this.to.next(g)}),_.$):(c||f)(a,l)},n.chain.map=function(a,l,_){var g=this,j=g._,d,v;return Object.plain(a)&&(d=a["."]?a:{".":a},a=h),a?(n.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),v=g.chain(),g.map().on(function(k,O,w,u){var y=(a||f).call(this,k,O,w,u);if(h!==y){if(k===y)return v._.on("in",w);if(n.is(y))return v._.on("in",y._);var T={};Object.keys(w.put).forEach(function(G){T[G]=w.put[G]},T),T["="]=y,v._.on("in",{get:O,put:T})}}),v):((v=j.each)||((j.each=v=g.chain())._.lex=d||v._.lex||j.lex,v._.nix=g.back("nix"),g.on("in",s,v._)),v)};function s(a){this.to.next(a);var l=this.as,_=a.$,g=_._,j=a.put,d;!g.soul&&!a.$$||(d=l.lex)&&!String.match(a.get||(j||"")["."],d["."]||d["#"]||d)||n.on.link(a,l)}var f=function(){},h})(t,"./map"),t(function(i){var n=t("./index");n.chain.set=function(c,s,f){var h=this,a=h.back(-1),l,_;return s=s||function(){},f=f||{},f.item=f.item||c,(l=((c||"")._||"")["#"])&&((c={})["#"]=l),typeof(_=n.valid(c))=="string"?h.get(l=_).put(c,s,f):n.is(c)?(h.put(function(g){c.get(function(j,d,v){if(!j)return s.call(h,{err:n.log('Only a node can be linked! Not "'+v.put+'"!')});(_={})[j]={"#":j},g(_)},!0)}),c):(Object.plain(c)&&(c=a.get(l=h.back("opt.uuid")()).put(c)),h.get(l||a.back("opt.uuid")(7)).put(c,s,f))}})(t,"./set"),t(function(i){t("./shim");var n=function(){},c=JSON.parseAsync||function(a,l,_){var g,j=+new Date;try{l(g,JSON.parse(a,_),s.sucks(+new Date-j))}catch(d){l(d)}},s=JSON.stringifyAsync||function(a,l,_,g){var j,d=+new Date;try{l(j,JSON.stringify(a,_,g),s.sucks(+new Date-d))}catch(v){l(v)}};s.sucks=function(a){a>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),s.sucks=n)};function f(a){var l=function(){},_=a.opt||{};_.log=_.log||console.log,_.gap=_.gap||_.wait||0,_.max=_.max||(_.memory?_.memory*999*999:3e8)*.3,_.pack=_.pack||_.max*.01*.01,_.puff=_.puff||9;var g=setTimeout.turn||setTimeout,j=a.dup,d=j.check,v=j.track,k=l.hear=function(u,y){if(u){if(_.max<=u.length)return l.say({dam:"!",err:"Message too big!"},y);l===this&&(k.d+=u.length||0,++k.c);var T=y.SH=+new Date,G=u[0],m;if(G==="["){c(u,function(x,D){if(x||!D)return l.say({dam:"!",err:"DAM JSON parse error."},y);console.STAT&&console.STAT(+new Date,D.length,"# on hear batch");var M=_.puff;(function A(){for(var p=+new Date,o=0,b;o<M&&(b=D[o++]);)l.hear(b,y);D=D.slice(o),console.STAT&&console.STAT(p,+new Date-p,"hear loop"),O(y),D.length&&g(A,0)})()}),u="";return}if(G==="{"||(u["#"]||Object.plain(u))&&(m=u)){if(m)return k.one(m,y,T);c(u,function(x,D){if(x||!D)return l.say({dam:"!",err:"DAM JSON parse error."},y);k.one(D,y,T)});return}}};k.one=function(u,y,A){var G,m,x,D,M;if(u.DBG&&(u.DBG=M={DBG:u.DBG}),M&&(M.h=A),M&&(M.hp=+new Date),(G=u["#"])||(G=u["#"]=String.random(9)),!(x=d(G))&&(m=u["##"],!(m&&(x=u["@"]||u.get&&G)&&j.check(D=x+m)))){if((u._=function(){}).via=l.leap=y,(x=u["><"])&&typeof x=="string"&&x.slice(0,99).split(",").forEach(function(p){this[p]=1},u._.yo={}),x=u.dam){(x=l.hear[x])&&x(u,y,a),v(G);return}(x=u.ok)&&(u._.near=x["/"]);var A=+new Date;M&&(M.is=A),y.SI=G,v.ed=function(p){G===p&&(v.ed=0,(p=j.s[G])&&(p.via=y,u.get&&(p.it=u)))},a.on("in",l.last=u),M&&(M.hd=+new Date),console.STAT&&console.STAT(A,+new Date-A,u.get?"msg get":u.put?"msg put":"msg"),v(G),D&&v(D),l.leap=l.last=null}},k.c=k.d=0,function(){var u=0,y;l.hash=function(m,x){var D,M,A,p=+new Date;s(m.put,function o(b,$){var C=(M||(M=A=$||"")).slice(0,32768);if(D=String.hash(C,D),M=M.slice(32768),M){g(o,0);return}console.STAT&&console.STAT(p,+new Date-p,"say json+hash"),m._.$put=A,m["##"]=D,l.say(m,x),delete m._.$put},T)};function T(m,x){var D;return x instanceof Object?(Object.keys(x).sort().forEach(G,{to:D={},on:x}),D):x}function G(m){this.to[m]=this.on[m]}l.say=function(m,x){var D;if((D=this)&&(D=D.to)&&D.next&&D.next(m),!m)return!1;var M,A,p,o=m["@"],b=m._||(m._=function(){}),$=m.DBG,C=+new Date;if(b.y=b.y||C,x||$&&($.y=C),(M=m["#"])||(M=m["#"]=String.random(9)),!y&&v(M),!(A=m["##"])&&h!==m.put&&!b.via&&o){l.hash(m,x);return}if(!x&&o&&(x=(D=j.s[o])&&(D.via||(D=D.it)&&(D=D._)&&D.via)||(D=l.last)&&o===D["#"]&&l.leap),!x&&o)return j.s[o]?void 0:(console.STAT&&console.STAT(+new Date,++u,"total no peer to ack to"),!1);if(o&&!m.put&&!A&&((j.s[o]||"").it||"")["##"])return!1;if(!x&&l.way)return l.way(m);if($&&($.yh=+new Date),!(p=b.raw)){l.raw(m,x);return}if($&&($.yr=+new Date),!x||!x.id){if(!Object.plain(x||_.peers))return!1;var C=+new Date;_.puff;var N=_.peers,S=Object.keys(x||_.peers||{});console.STAT&&console.STAT(C,+new Date-C,"peer keys"),function H(){var F=+new Date;y=1;var R=b.raw;b.raw=p;for(var U=0,Y;U<9&&(Y=(S||"")[U++]);)(Y=N[Y]||(x||"")[Y])&&l.say(m,Y);b.raw=R,y=0,S=S.slice(U),console.STAT&&console.STAT(F,+new Date-F,"say loop"),S.length&&(g(H,0),o&&v(o))}();return}if(!x.wire&&l.wire&&l.wire(x),M!==x.last){if(x.last=M,x===b.via||(D=b.yo)&&(D[x.url]||D[x.pid]||D[x.id]))return!1;if(console.STAT&&console.STAT(C,(($||b).yp=+new Date)-(b.y||C),"say prep"),!y&&o&&v(o),x.batch){if(x.tail=(D=x.tail||0)+p.length,x.tail<=_.pack){x.batch+=(D?",":"")+p;return}O(x)}x.batch="[";var E=+new Date;setTimeout(function(){console.STAT&&console.STAT(E,+new Date-E,"0ms TO"),O(x)},_.gap),w(p,x),console.STAT&&o===x.SI&&console.STAT(C,+new Date-x.SH,"say ack")}},l.say.c=l.say.d=0,l.raw=function(m,x){if(!m)return"";var D=m._||{},M,A;if(A=D.raw)return A;if(typeof m=="string")return m;var p=m["##"],o=m["@"];if(p&&o){if(!D.via&&d(o+p))return!1;if(A=(j.s[o]||"").it){if(p===A["##"])return!1;A["##"]||(A["##"]=p)}}if(!m.dam&&!m["@"]){var b=0,$=[];A=_.peers;for(var C in A){var N=A[C];if($.push(N.url||N.pid||N.id),++b>6)break}b>1&&(m["><"]=$.join())}if(m.put&&(A=m.ok)&&(m.ok={"@":(A["@"]||1)-1,"/":A["/"]==m._.near?l.near:A["/"]}),M=D.$put){A={},Object.keys(m).forEach(function(E){A[E]=m[E]}),A.put=":])([:",s(A,function(E,I){if(!E){var H=+new Date;A=I.indexOf('"put":":])([:"'),S(h,I=I.slice(0,A+6)+M+I.slice(A+14)),console.STAT&&console.STAT(H,+new Date-H,"say slice")}});return}s(m,S);function S(E,I){E||(D.raw=I,l.say(m,x))}}}();function O(u){var y=u.batch,T=typeof y=="string";if(T&&(y+="]"),u.batch=u.tail=null,!!y&&!(T?3>y.length:!y.length)){if(!T)try{y=y.length===1?y[0]:JSON.stringify(y)}catch(G){return _.log("DAM JSON stringify error",G)}y&&w(y,u)}}function w(u,y){try{var T=y.wire;y.say?y.say(u):T.send&&T.send(u),l.say.d+=u.length||0,++l.say.c}catch{(y.queue=y.queue||[]).push(u)}}return l.near=0,l.hi=function(u){var y=u.wire,T;if(!y){l.wire(u.length&&{url:u,id:u}||u);return}u.id?_.peers[u.url||u.id]=u:(T=u.id=u.id||u.url||String.random(9),l.say({dam:"?",pid:a.opt.pid},_.peers[T]=u),delete j.s[u.last]),u.met||(l.near++,u.met=+new Date,a.on("hi",u)),T=u.queue,u.queue=[],setTimeout.each(T||[],function(G){w(G,u)},0,9)},l.bye=function(u){u.met&&--l.near,delete u.met,a.on("bye",u);var y=+new Date;y=y-(u.met||y),l.bye.time=((l.bye.time||y)+y)/2},l.hear["!"]=function(u,y){_.log("Error:",u.err)},l.hear["?"]=function(u,y){u.pid&&(y.pid||(y.pid=u.pid),u["@"])||(l.say({dam:"?",pid:_.pid,"@":u["#"]},y),delete j.s[y.last])},l.hear.mob=function(u,y){if(u.peers){var T=Object.keys(u.peers),G=T[Math.random()*T.length>>0];G&&(l.bye(y),l.hi(G))}},a.on("create",function(u){u.opt.pid=u.opt.pid||String.random(9),this.to.next(u),u.on("out",l.say)}),a.on("bye",function(u,y){u=_.peers[u.id||u]||u,this.to.next(u),u.bye?u.bye():(y=u.wire)&&y.close&&y.close(),delete _.peers[u.id],u.wire=null}),a.on("bye",function(u,y){this.to.next(u),(y=console.STAT)&&(y.peers=l.near),(y=u.url)&&setTimeout(function(){},_.lack||9e3)}),a.on("hi",function(u,y){if(this.to.next(u),(y=console.STAT)&&(y.peers=l.near),!_.super){var T=Object.keys(a.next||"");T.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(T,function(G){var m=a.next[G];if(_.super||(m.ask||"")[""]){l.say({get:{"#":G}},u);return}setTimeout.each(Object.keys(m.ask||""),function(x){x&&l.say({"##":String.hash((a.graph[G]||"")[x]),get:{"#":G,".":x}},u)})})}}),l}var h;try{i.exports=f}catch{}})(t,"./mesh"),t(function(i){var n=t("./index");n.Mesh=t("./mesh"),n.on("opt",function(s){if(this.to.next(s),s.once)return;var f=s.opt;if(f.WebSocket===!1)return;var h=n.window||{},a=f.WebSocket||h.WebSocket||h.webkitWebSocket||h.mozWebSocket;if(!a)return;f.WebSocket=a;var l=f.mesh=f.mesh||n.Mesh(s);l.wire||f.wire,l.wire=f.wire=_;function _(v){try{if(!v||!v.url)return O&&O(v);var k=v.url.replace(/^http/,"ws"),O=v.wire=new f.WebSocket(k);return O.onclose=function(){j(v),f.mesh.bye(v)},O.onerror=function(w){j(v)},O.onopen=function(){f.mesh.hi(v)},O.onmessage=function(w){w&&f.mesh.hear(w.data||w,v)},O}catch{f.mesh.bye(v)}}setTimeout(function(){!f.super&&s.on("out",{dam:"hi"})},1);var g=2*999;function j(v){clearTimeout(v.defer),f.peers[v.url]&&(d&&v.retry<=0||(v.retry=(v.retry||f.retry+1||60)-(-v.tried+(v.tried=+new Date)<g*4?1:0),v.defer=setTimeout(function k(){if(d&&d.hidden)return setTimeout(k,g);_(v)},g)))}var d=""+c!=typeof document&&document});var c})(t,"./websocket"),t(function(i){if(!(typeof Gun>"u")){var n=function(){},c;try{c=(Gun.window||n).localStorage}catch{}c||(Gun.log("Warning: No localStorage exists to persist data to!"),c={setItem:function(f,h){this[f]=h},removeItem:function(f){delete this[f]},getItem:function(f){return this[f]}});var s=JSON.stringifyAsync||function(f,h,a,l){var _;try{h(_,JSON.stringify(f,a,l))}catch(g){h(g)}};Gun.on("create",function f(h){this.to.next(h);var a=h.opt;h.graph;var l=[],_,g,j,d;if(a.localStorage===!1)return;a.prefix=a.file||"gun/";try{_=f[a.prefix]=f[a.prefix]||JSON.parse(j=c.getItem(a.prefix))||{}}catch{_=f[a.prefix]={}}j=(j||"").length,h.on("get",function(k){this.to.next(k);var O=k.get,w,u,y,T;!O||!(w=O["#"])||(u=_[w]||T,u&&(y=O["."])&&!Object.plain(y)&&(u=Gun.state.ify({},y,Gun.state.is(u,y),u[y],w)),Gun.on.get.ack(k,u))}),h.on("put",function(k){this.to.next(k);var O=k.put,w=O["#"],u=O["."],y=k["#"],T=k.ok||"";if(_[w]=Gun.state.ify(_[w],u,O[">"],O[":"],w),d&&j>4999880){h.on("in",{"@":y,err:"localStorage max!"});return}!k["@"]&&(!k._.via||Math.random()<T["@"]/T["/"])&&l.push(y),!g&&(g=setTimeout(v,9+j/333))});function v(){if(!l.length&&((setTimeout.turn||"").s||"").length){setTimeout(v,99);return}var k=l;clearTimeout(g),g=!1,l=[],s(_,function(O,w){try{!O&&c.setItem(a.prefix,w)}catch(u){O=d=u||"localStorage failure"}O&&(Gun.log(O+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),h.on("localStorage:error",{err:O,get:a.prefix,put:_})),j=w.length,setTimeout.each(k,function(u){h.on("in",{"@":u,err:O,ok:0})},0,99)})}})}})(t,"./localStorage")})(),function(){var A;if(""+A!=typeof Gun){var t=function(p){console.warn("Warning! Deprecated internal utility will break in next version:",p)},e=Gun;e.fn=e.fn||{is:function(p){return t("fn"),!!p&&typeof p=="function"}},e.bi=e.bi||{is:function(p){return t("bi"),p instanceof Boolean||typeof p=="boolean"}},e.num=e.num||{is:function(p){return t("num"),!i(p)&&(p-parseFloat(p)+1>=0||p===1/0||p===-1/0)}},e.text=e.text||{is:function(p){return t("text"),typeof p=="string"}},e.text.ify=e.text.ify||function(p){return t("text.ify"),e.text.is(p)?p:typeof JSON<"u"?JSON.stringify(p):p&&p.toString?p.toString():p},e.text.random=e.text.random||function(p,o){t("text.random");var b="";for(p=p||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";p>0;)b+=o.charAt(Math.floor(Math.random()*o.length)),p--;return b},e.text.match=e.text.match||function(p,o){var b,$;return t("text.match"),typeof p!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},b=o["="]||o["*"]||o[">"]||o["<"],p===b?!0:$!==o["="]?!1:(b=o["*"]||o[">"]||o["<"],p.slice(0,(b||"").length)===b?!0:$!==o["*"]?!1:$!==o[">"]&&$!==o["<"]?p>=o[">"]&&p<=o["<"]:$!==o[">"]&&p>=o[">"]||$!==o["<"]&&p<=o["<"]))},e.text.hash=e.text.hash||function(p,o){if(t("text.hash"),typeof p=="string"){if(o=o||0,!p.length)return o;for(var b=0,$=p.length,C;b<$;++b)C=p.charCodeAt(b),o=(o<<5)-o+C,o|=0;return o}},e.list=e.list||{is:function(p){return t("list"),p instanceof Array}},e.list.slit=e.list.slit||Array.prototype.slice,e.list.sort=e.list.sort||function(p){return t("list.sort"),function(o,b){return!o||!b?0:(o=o[p],b=b[p],o<b?-1:o>b?1:0)}},e.list.map=e.list.map||function(p,o,b){return t("list.map"),D(p,o,b)},e.list.index=1,e.obj=e.boj||{is:function(p){return t("obj"),p?p instanceof Object&&p.constructor===Object||Object.prototype.toString.call(p).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},e.obj.put=e.obj.put||function(p,o,b){return t("obj.put"),(p||{})[o]=b,p},e.obj.has=e.obj.has||function(p,o){return t("obj.has"),p&&Object.prototype.hasOwnProperty.call(p,o)},e.obj.del=e.obj.del||function(p,o){if(t("obj.del"),!!p)return p[o]=null,delete p[o],p},e.obj.as=e.obj.as||function(p,o,b,$){return t("obj.as"),p[o]=p[o]||($===b?{}:b)},e.obj.ify=e.obj.ify||function(p){if(t("obj.ify"),y(p))return p;try{p=JSON.parse(p)}catch{p={}}return p},function(){var p;function o(b,$){G(this,$)&&p!==this[$]||(this[$]=b)}e.obj.to=e.obj.to||function(b,$){return t("obj.to"),$=$||{},D(b,o,$),$}}(),e.obj.copy=e.obj.copy||function(p){return t("obj.copy"),p&&JSON.parse(JSON.stringify(p))},function(){function p(o,b){var $=this.n,C;if(!($&&(b===$||y($)&&G($,b)))&&C!==b)return!0}e.obj.empty=e.obj.empty||function(o,b){return t("obj.empty"),o?!D(o,p,{n:b}):!0}}(),function(){function p($,C){if(arguments.length===2){p.r=p.r||{},p.r[$]=C;return}p.r=p.r||[],p.r.push($)}var o=Object.keys,b;Object.keys=Object.keys||function($){return b($,function(C,N,S){S(N)})},e.obj.map=b=e.obj.map||function($,C,N){t("obj.map");var S,E=0,I,H,F,R,U=typeof C=="function";if(p.r=S,o&&y($)&&(F=o($),R=!0),N=N||{},i($)||F)for(I=(F||$).length;E<I;E++){var Y=E+e.list.index;if(U){if(H=R?C.call(N,$[F[E]],F[E],p):C.call(N,$[E],Y,p),H!==S)return H}else if(C===$[R?F[E]:E])return F?F[E]:Y}else for(E in $)if(U){if(G($,E)&&(H=N?C.call(N,$[E],E,p):C($[E],E,p),H!==S))return H}else if(C===$[E])return E;return U?p.r:e.list.index?0:-1}}(),e.time=e.time||{},e.time.is=e.time.is||function(p){return t("time"),p?p instanceof Date:+new Date().getTime()};var w=e.fn.is,i=e.list.is,u=e.obj,y=u.is,G=u.has,D=u.map,n={};n.is=function(p){return t("val.is"),p===A?!1:p===null?!0:p===1/0?!1:f(p)||s(p)||d(p)?!0:n.link.is(p)||!1},n.link=n.rel={_:"#"},function(){n.link.is=function(o){if(t("val.link.is"),o&&o[c]&&!o._&&y(o)){var b={};if(D(o,p,b),b.id)return b.id}return!1};function p(o,b){var $=this;if($.id)return $.id=!1;if(b==c&&f(o))$.id=o;else return $.id=!1}}(),n.link.ify=function(p){return t("val.link.ify"),x({},c,p)},e.obj.has._=".";var c=n.link._,A,s=e.bi.is,d=e.num.is,f=e.text.is,u=e.obj,y=u.is,x=u.put,D=u.map;e.val=e.val||n;var h={_:"_"};h.soul=function(p,o){return t("node.soul"),p&&p._&&p._[o||_]},h.soul.ify=function(p,o){return t("node.soul.ify"),o=typeof o=="string"?{soul:o}:o||{},p=p||{},p._=p._||{},p._[_]=o.soul||p._[_]||l(),p},h.soul._=n.link._,function(){h.is=function(o,b,$){t("node.is");var C;return y(o)&&(C=h.soul(o))?!D(o,p,{as:$,cb:b,s:C,n:o}):!1};function p(o,b){if(b!==h._){if(!n.is(o))return!0;this.cb&&this.cb.call(this.as,o,b,this.n,this.s)}}}(),function(){h.ify=function(o,b,$){return t("node.ify"),b?typeof b=="string"?b={soul:b}:typeof b=="function"&&(b={map:b}):b={},b.map&&(b.node=b.map.call($,o,A,b.node||{})),(b.node=h.soul.ify(b.node||{},b))&&D(o,p,{o:b,as:$}),b.node};function p(o,b){var $=this.o,C,N;if($.map){C=$.map.call(this.as,o,""+b,$.node),N===C?T($.node,b):$.node&&($.node[b]=C);return}n.is(o)&&($.node[b]=o)}}();var u=e.obj,y=u.is,T=u.del,D=u.map,a=e.text,l=a.random,_=h.soul._,A;e.node=e.node||h;var g=e.state;g.lex=function(){return t("state.lex"),g().toString(36).replace(".","")},g.to=function(p,o,b){t("state.to");var $=(p||{})[o];return y($)&&($=M($)),g.ify(b,o,g.is(p,o),$,h.soul(p))},function(){g.map=function(o,b,$){t("state.map");var C,N=y(N=o||b)?N:null;return o=w(o=o||b)?o:null,N&&!o?(b=d(b)?b:g(),N[k]=N[k]||{},D(N,p,{o:N,s:b}),N):($=$||y(b)?b:C,b=d(b)?b:g(),function(S,E,I,H){if(!o)return p.call({o:I,s:b},S,E),S;o.call($||this||{},S,E,I,H),!(G(I,E)&&C===I[E])&&p.call({o:I,s:b},S,E)})};function p(o,b){k!==b&&g.ify(this.o,b,this.s)}}();var u=e.obj;u.as;var G=u.has,y=u.is,D=u.map,M=u.copy,j=e.num,d=j.is,v=e.fn,w=v.is,k=h._,A,O={};(function(){O.is=function(b,$,C,N){return t("graph.is"),!b||!y(b)||m(b)?!1:!D(b,p,{cb:$,fn:C,as:N})};function p(b,$){if(!b||$!==h.soul(b)||!h.is(b,this.fn,this.as))return!0;this.cb&&(o.n=b,o.as=this.as,this.cb.call(o.as,b,$,o))}function o(b){b&&h.is(o.n,b,o.as)}})(),function(){O.ify=function(N,S,E){t("graph.ify");var I={path:[],obj:N};return S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S.map=S):S={},typeof E=="string"&&(S.soul=S.soul||E,E=A),S.soul&&(I.link=n.link.ify(S.soul)),S.shell=(E||{}).shell,S.graph=S.graph||{},S.seen=S.seen||[],S.as=S.as||E,p(S,I),S.root=I.node,S.graph};function p(N,S){var E;return(E=C(N,S))?E:(S.env=N,S.soul=b,h.ify(S.obj,o,S)&&(S.link=S.link||n.link.ify(h.soul(S.node)),S.obj!==N.shell&&(N.graph[n.link.is(S.link)]=S.node)),S)}function o(N,S,E){var I=this,H=I.env,F,R;if(h._===S&&G(N,n.link._))return E._;if(F=$(N,S,E,I,H)){if(S||(I.node=I.node||E||{},G(N,h._)&&h.soul(N)&&(I.node._=M(N._)),I.node=h.soul.ify(I.node,n.link.is(I.link)),I.link=I.link||n.link.ify(h.soul(I.node))),(R=H.map)&&(R.call(H.as||{},N,S,E,I),G(E,S))){if(N=E[S],A===N){T(E,S);return}if(!(F=$(N,S,E,I,H)))return}if(!S)return I.node;if(F===!0)return N;if(R=p(H,{obj:N,path:I.path.concat(S)}),!!R.node)return R.link}}function b(N){var S=this,E=n.link.is(S.link),I=S.env.graph;S.link=S.link||n.link.ify(N),S.link[n.link._]=N,S.node&&S.node[h._]&&(S.node[h._][n.link._]=N),G(I,E)&&(I[N]=I[E],T(I,E))}function $(N,S,E,I,H){var F;if(n.is(N))return!0;if(y(N))return 1;if(F=H.invalid)return N=F.call(H.as||{},N,S,E),$(N,S,E,I,H);H.err="Invalid value at '"+I.path.concat(S).join(".")+"'!",e.list.is(N)&&(H.err+=" Use `.set(item)` instead of an Array.")}function C(N,S){for(var E=N.seen,I=E.length,H;I--;)if(H=E[I],S.obj===H.obj)return H;E.push(S)}}(),O.node=function(p){t("graph.node");var o=h.soul(p);if(o)return x({},o,p)},function(){O.to=function(o,b,$){if(t("graph.to"),!!o){var C={};return $=$||{seen:{}},D(o[b],p,{obj:C,graph:o,opt:$}),C}};function p(o,b){var $,C;if(h._===b){if(m(o,n.link._))return;this.obj[b]=M(o);return}if(!($=n.link.is(o))){this.obj[b]=o;return}if(C=this.opt.seen[$]){this.obj[b]=C;return}this.obj[b]=this.opt.seen[$]=O.to(this.graph,$,this.opt)}}();var w=e.fn.is,u=e.obj,y=u.is,T=u.del,G=u.has,m=u.empty,x=u.put,D=u.map,M=u.copy,A;e.graph=e.graph||O}}()})(qt);var un=qt.exports,fn=un;const an=rn(fn),pt=[];function ln(r,t=Z){let e;const i=new Set;function n(f){if(ht(r,f)&&(r=f,e)){const h=!pt.length;for(const a of i)a[1](),pt.push(a,r);if(h){for(let a=0;a<pt.length;a+=2)pt[a][0](pt[a+1]);pt.length=0}}}function c(f){n(f(r))}function s(f,h=Z){const a=[f,h];return i.add(a),i.size===1&&(e=t(n,c)||Z),f(r),()=>{i.delete(a),i.size===0&&e&&(e(),e=null)}}return{set:n,update:c,subscribe:s}}const cn=an({peers:["wss://gun-manhattan.herokuapp.com/gun"]}),ve=cn.get("cards"),Bt=document.createElement("a"),Ct=document.createElement("input");Ct.type="file";Ct.accept=".json";Ct.onchange=async r=>{var e;if(!r||!r.target)return;const t=(e=r.target.files)==null?void 0:e[0];if(t){const i=await t.text();Jt(JSON.parse(i))}};const wt=ln([]),Jt=r=>{ve.put({data:JSON.stringify(r)})};ve.on(r=>{wt.set(JSON.parse(r.data))});const sn=()=>{Bt.href=URL.createObjectURL(new Blob([JSON.stringify($e(wt))],{type:"application/json"})),Bt.download="cards.json",Bt.click()},hn=()=>{Ct.click()};function re(r,t,e){const i=r.slice();return i[17]=t[e],i}function ie(r,t,e){const i=r.slice();return i[14]=t[e],i}function oe(r,t,e){const i=r.slice();return i[14]=t[e],i}function ue(r,t,e){const i=r.slice();return i[14]=t[e],i}function dn(r){let t,e,i,n=rt(ne(r[1])),c=[];for(let f=0;f<n.length;f+=1)c[f]=le(re(r,n,f));const s=f=>W(c[f],1,1,()=>{c[f]=null});return{c(){t=z("div"),e=z("section");for(let f=0;f<c.length;f+=1)c[f].c();B(e,"class","print")},m(f,h){J(f,t,h),L(t,e);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null);r[12](e),i=!0},p(f,h){if(h&2){n=rt(ne(f[1]));let a;for(a=0;a<n.length;a+=1){const l=re(f,n,a);c[a]?(c[a].p(l,h),q(c[a],1)):(c[a]=le(l),c[a].c(),q(c[a],1),c[a].m(e,null))}for(ct(),a=n.length;a<c.length;a+=1)s(a);st()}},i(f){if(!i){for(let h=0;h<n.length;h+=1)q(c[h]);i=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)W(c[h]);i=!1},d(f){f&&P(t),Tt(c,f),r[12](null)}}}function pn(r){let t,e,i,n,c,s,f,h,a,l,_,g,j,d,v,k,O,w,u=r[4].length+"",y,T,G,m;i=new Nt({props:{cardType:r[0],names:["None","Movement","Mystery","Curse","Starter","Board","Change","Deck"],noPassive:!0}}),i.$on("type",r[6]),c=new at({props:{colour:"blue",$$slots:{default:[_n]},$$scope:{ctx:r}}}),c.$on("click",r[7]),f=new at({props:{colour:"blue",$$slots:{default:[yn]},$$scope:{ctx:r}}}),f.$on("click",r[8]),a=new at({props:{$$slots:{default:[vn]},$$scope:{ctx:r}}}),a.$on("click",r[9]),_=new at({props:{$$slots:{default:[bn]},$$scope:{ctx:r}}}),_.$on("click",hn),j=new at({props:{$$slots:{default:[gn]},$$scope:{ctx:r}}}),j.$on("click",sn),v=new at({props:{$$slots:{default:[kn]},$$scope:{ctx:r}}}),v.$on("click",r[10]);let x=rt(r[4]),D=[];for(let A=0;A<x.length;A+=1)D[A]=ce(ue(r,x,A));const M=A=>W(D[A],1,1,()=>{D[A]=null});return{c(){t=z("section"),e=z("div"),X(i.$$.fragment),n=K(),X(c.$$.fragment),s=K(),X(f.$$.fragment),h=K(),X(a.$$.fragment),l=K(),X(_.$$.fragment),g=K(),X(j.$$.fragment),d=K(),X(v.$$.fragment),k=K(),O=z("h1"),w=et("cards "),y=et(u),T=K(),G=z("section");for(let A=0;A<D.length;A+=1)D[A].c();B(e,"class","select-wrapper svelte-c8b4af"),tt(e,"background-color",r[5]),B(t,"class","button-container svelte-c8b4af"),B(G,"class","container svelte-c8b4af")},m(A,p){J(A,t,p),L(t,e),V(i,e,null),L(t,n),V(c,t,null),L(t,s),V(f,t,null),L(t,h),V(a,t,null),L(t,l),V(_,t,null),L(t,g),V(j,t,null),L(t,d),V(v,t,null),J(A,k,p),J(A,O,p),L(O,w),L(O,y),J(A,T,p),J(A,G,p);for(let o=0;o<D.length;o+=1)D[o]&&D[o].m(G,null);m=!0},p(A,p){const o={};p&1&&(o.cardType=A[0]),i.$set(o),(!m||p&32)&&tt(e,"background-color",A[5]);const b={};p&16777216&&(b.$$scope={dirty:p,ctx:A}),c.$set(b);const $={};p&16777216&&($.$$scope={dirty:p,ctx:A}),f.$set($);const C={};p&16777216&&(C.$$scope={dirty:p,ctx:A}),a.$set(C);const N={};p&16777216&&(N.$$scope={dirty:p,ctx:A}),_.$set(N);const S={};p&16777216&&(S.$$scope={dirty:p,ctx:A}),j.$set(S);const E={};if(p&16777216&&(E.$$scope={dirty:p,ctx:A}),v.$set(E),(!m||p&16)&&u!==(u=A[4].length+"")&&Ae(y,u),p&18){x=rt(A[4]);let I;for(I=0;I<x.length;I+=1){const H=ue(A,x,I);D[I]?(D[I].p(H,p),q(D[I],1)):(D[I]=ce(H),D[I].c(),q(D[I],1),D[I].m(G,null))}for(ct(),I=x.length;I<D.length;I+=1)M(I);st()}},i(A){if(!m){q(i.$$.fragment,A),q(c.$$.fragment,A),q(f.$$.fragment,A),q(a.$$.fragment,A),q(_.$$.fragment,A),q(j.$$.fragment,A),q(v.$$.fragment,A);for(let p=0;p<x.length;p+=1)q(D[p]);m=!0}},o(A){W(i.$$.fragment,A),W(c.$$.fragment,A),W(f.$$.fragment,A),W(a.$$.fragment,A),W(_.$$.fragment,A),W(j.$$.fragment,A),W(v.$$.fragment,A),D=D.filter(Boolean);for(let p=0;p<D.length;p+=1)W(D[p]);m=!1},d(A){A&&(P(t),P(k),P(O),P(T),P(G)),Q(i),Q(c),Q(f),Q(a),Q(_),Q(j),Q(v),Tt(D,A)}}}function fe(r){let t,e;return t=new Ft({props:{card:r[14]}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&2&&(c.card=i[14]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function ae(r){let t,e;return t=new Ft({props:{card:r[14],back:!0}}),{c(){X(t.$$.fragment)},m(i,n){V(t,i,n),e=!0},p(i,n){const c={};n&2&&(c.card=i[14]),t.$set(c)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){W(t.$$.fragment,i),e=!1},d(i){Q(t,i)}}}function le(r){let t,e,i,n,c,s=rt(r[17]),f=[];for(let g=0;g<s.length;g+=1)f[g]=fe(oe(r,s,g));const h=g=>W(f[g],1,1,()=>{f[g]=null});let a=rt(r[17]),l=[];for(let g=0;g<a.length;g+=1)l[g]=ae(ie(r,a,g));const _=g=>W(l[g],1,1,()=>{l[g]=null});return{c(){t=z("div");for(let g=0;g<f.length;g+=1)f[g].c();e=K(),i=z("div");for(let g=0;g<l.length;g+=1)l[g].c();n=K(),B(t,"class","page svelte-c8b4af"),B(i,"class","page svelte-c8b4af")},m(g,j){J(g,t,j);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(t,null);J(g,e,j),J(g,i,j);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(i,null);L(i,n),c=!0},p(g,j){if(j&2){s=rt(g[17]);let d;for(d=0;d<s.length;d+=1){const v=oe(g,s,d);f[d]?(f[d].p(v,j),q(f[d],1)):(f[d]=fe(v),f[d].c(),q(f[d],1),f[d].m(t,null))}for(ct(),d=s.length;d<f.length;d+=1)h(d);st()}if(j&2){a=rt(g[17]);let d;for(d=0;d<a.length;d+=1){const v=ie(g,a,d);l[d]?(l[d].p(v,j),q(l[d],1)):(l[d]=ae(v),l[d].c(),q(l[d],1),l[d].m(i,n))}for(ct(),d=a.length;d<l.length;d+=1)_(d);st()}},i(g){if(!c){for(let j=0;j<s.length;j+=1)q(f[j]);for(let j=0;j<a.length;j+=1)q(l[j]);c=!0}},o(g){f=f.filter(Boolean);for(let j=0;j<f.length;j+=1)W(f[j]);l=l.filter(Boolean);for(let j=0;j<l.length;j+=1)W(l[j]);c=!1},d(g){g&&(P(t),P(e),P(i)),Tt(f,g),Tt(l,g)}}}function _n(r){let t;return{c(){t=et("add two sided")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function yn(r){let t;return{c(){t=et("add one sided")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function vn(r){let t;return{c(){t=et("save")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function bn(r){let t;return{c(){t=et("import JSON")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function gn(r){let t;return{c(){t=et("export JSON")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function kn(r){let t;return{c(){t=et("Download")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function mn(r){let t;return{c(){t=et("remove")},m(e,i){J(e,t,i)},d(e){e&&P(t)}}}function ce(r){let t,e,i,n,c,s;e=new Ft({props:{card:r[14]}});function f(){return r[11](r[14])}return n=new at({props:{colour:"red",$$slots:{default:[mn]},$$scope:{ctx:r}}}),n.$on("click",f),{c(){t=z("div"),X(e.$$.fragment),i=K(),X(n.$$.fragment),c=K(),B(t,"class","wrapper svelte-c8b4af")},m(h,a){J(h,t,a),V(e,t,null),L(t,i),V(n,t,null),L(t,c),s=!0},p(h,a){r=h;const l={};a&16&&(l.card=r[14]),e.$set(l);const _={};a&16777216&&(_.$$scope={dirty:a,ctx:r}),n.$set(_)},i(h){s||(q(e.$$.fragment,h),q(n.$$.fragment,h),s=!0)},o(h){W(e.$$.fragment,h),W(n.$$.fragment,h),s=!1},d(h){h&&P(t),Q(e),Q(n)}}}function $n(r){let t,e,i,n;const c=[pn,dn],s=[];function f(h,a){return h[3]?1:0}return t=f(r),e=s[t]=c[t](r),{c(){e.c(),i=Et()},m(h,a){s[t].m(h,a),J(h,i,a),n=!0},p(h,[a]){let l=t;t=f(h),t===l?s[t].p(h,a):(ct(),W(s[l],1,1,()=>{s[l]=null}),st(),e=s[t],e?e.p(h,a):(e=s[t]=c[t](h),e.c()),q(e,1),e.m(i.parentNode,i))},i(h){n||(q(e),n=!0)},o(h){W(e),n=!1},d(h){h&&P(i),s[t].d(h)}}}function wn(r,t,e){let i,n,c;we(r,wt,O=>e(1,c=O));let s,f,h="None";const a=(O,w)=>w==="None"?O:O.filter(u=>u.cardHalf1.cardType.type===w||u.cardHalf2&&u.cardHalf2.cardType.type===w);Ge(()=>{const O=new URLSearchParams(window.location.search);e(3,f=!!O.get("download"))});const l=({detail:O})=>e(0,h=O),_=()=>{wt.set([...c,Kt(2)])},g=()=>{wt.set([...c,Kt(1)]),console.log(c.length)},j=()=>{Jt(c)},d=()=>{const O=document.createElement("a");O.href=`${window.location.href}?download=true`,O.click()},v=O=>{Jt(c.filter(w=>w.id!==O.id))};function k(O){Ht[O?"unshift":"push"](()=>{s=O,e(2,s)})}return r.$$.update=()=>{r.$$.dirty&1&&e(5,i=vt(h)),r.$$.dirty&3&&e(4,n=a(c,h))},[h,c,s,f,n,i,l,_,g,j,d,v,k]}class Tn extends kt{constructor(t){super(),gt(this,t,wn,$n,ht,{})}}new Tn({target:document.getElementById("app")});
